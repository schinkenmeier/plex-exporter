/* Cinematic modal layout (V2) */
/* --- Modal V2: Local tokens & reset --- */
.modalv2 {
  /* Local defaults (independent from global theme overrides) */
  --fg: #e6eefc;
  --accent: #6aa6ff;
  --border: rgba(69,93,129,0.35);
  --bg-overlay: rgba(9, 15, 26, 0.85);
}

.modalv2,
.modalv2 *,
.modalv2 *::before,
.modalv2 *::after { box-sizing: border-box; }

.modalv2-overlay { position: fixed; inset: 0; z-index: 100; display: flex; align-items: center; justify-content: center; padding: 32px 24px; background: var(--bg-overlay, rgba(9, 15, 26, 0.85)); backdrop-filter: blur(22px); }
.modalv2-overlay[hidden] { display: none; }
.modalv2-backdrop { position: absolute; inset: 0; pointer-events: none; background: radial-gradient(circle at 20% 20%, rgba(34,51,78,0.32), rgba(9,14,23,0.76)); }
.modalv2-dialog { position: relative; z-index: 1; width: min(1040px, 100%); max-height: min(92vh, 900px); border-radius: 24px; border: 1px solid rgba(69,93,129,0.35); box-shadow: 0 26px 64px rgba(5,8,15,0.65); background: linear-gradient(180deg, rgba(12,17,28,0.96), rgba(10,14,23,0.92)); overflow: hidden; display: flex; flex-direction: column; }
.modalv2-scroll { overflow-y: auto; -webkit-overflow-scrolling: touch; }
body.modalv2-open { overflow: hidden; }
.modalv2 { padding: 0; display: flex; flex-direction: column; gap: 0; }
.modalv2[hidden] { display: none; }

@media (max-width: 880px) {
  .modalv2-overlay { padding: 24px 18px; }
  .modalv2-dialog { max-height: calc(100vh - 40px); border-radius: 20px; }
}

@media (max-width: 640px) {
  .modalv2-overlay { padding: 16px 12px; }
  .modalv2-dialog { width: 100%; border-radius: 18px; }
}

.v2-layout { display: grid; grid-template-columns: minmax(220px, 320px) minmax(0, 1fr); gap: 32px; padding: 24px 24px 28px; align-items: flex-start; }
.v2-side { display: flex; flex-direction: column; gap: 24px; }

@media (min-width: 881px) {
  .v2-side { position: sticky; top: 24px; align-self: flex-start; }
}
.v2-poster-card { display: grid; gap: 18px; }
.v2-poster-media { position: relative; }
.v2-poster-media img { width: 100%; aspect-ratio: 2/3; object-fit: cover; border-radius: 16px; display: block; opacity: 0; box-shadow: 0 16px 36px rgba(0,0,0,0.5); transition: opacity .3s ease; background: rgba(12,16,22,0.85); }
.v2-poster-media img.is-ready { opacity: 1; }

.v2-quickfacts { background: linear-gradient(180deg, rgba(17,24,36,0.94), rgba(17,24,36,0.76)); border: 1px solid rgba(69,93,129,0.35); border-radius: 16px; padding: 18px 20px; display: flex; flex-direction: column; gap: 14px; }
.v2-quickfacts[hidden] { display: none; }
.v2-quickfacts-title { margin: 0; font-size: 0.78rem; letter-spacing: 0.08em; text-transform: uppercase; color: #8fa2c5; }
.v2-quickfacts-list { margin: 0; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px 16px; }
.v2-quickfacts-list dt { font-size: 0.68rem; letter-spacing: 0.08em; text-transform: uppercase; color: #7f93b5; margin: 0; }
.v2-quickfacts-list dd { margin: 0; font-size: 0.95rem; color: #dbe4f4; }

.v2-info { display: flex; flex-direction: column; gap: 24px; min-width: 0; }
.v2-head { display: flex; flex-direction: column; gap: 18px; }
.v2-head-visual { position: relative; border-radius: 18px; overflow: hidden; min-height: 160px; background: radial-gradient(circle at 30% 30%, rgba(42,58,86,0.55), rgba(12,18,28,0.75)); display: flex; align-items: center; justify-content: center; isolation: isolate; }
.v2-head-hero { position: relative; width: 100%; height: 100%; display: grid; place-items: center; }
.v2-head-hero::before { content: ""; position: absolute; inset: 0; background: linear-gradient(180deg, rgba(8, 10, 16, 0.32), rgba(8, 12, 20, 0.78)); mix-blend-mode: multiply; pointer-events: none; }
.v2-head-hero::after { content: ""; position: absolute; inset: 0; background: radial-gradient(circle at 20% 20%, rgba(106,166,255,0.24), transparent 65%); mix-blend-mode: screen; opacity: 0.8; pointer-events: none; }
.v2-head-backdrop { position: absolute; inset: 0; background-size: cover; background-position: center; filter: brightness(0.65); opacity: 0; transition: opacity .35s ease; transform: scale(1.02); }
.v2-head-backdrop[data-state="ready"] { opacity: 1; }
.v2-head-overlay-logo { position: relative; z-index: 2; display: flex; align-items: center; justify-content: center; padding: clamp(16px, 3vw, 28px); }
.v2-head-overlay-meta { position: absolute; right: clamp(22px, 4vw, 34px); bottom: clamp(22px, 4vw, 34px); z-index: 3; display: block; max-width: min(340px, calc(100% - (clamp(22px, 4vw, 34px) * 2))); text-align: right; pointer-events: none; }
.v2-head-overlay-meta > * { pointer-events: auto; }
.v2-head-overlay-logo img { display: block; max-width: min(70%, 420px); max-height: clamp(64px, 12vw, 110px); object-fit: contain; filter: drop-shadow(0 18px 48px rgba(0,0,0,0.55)); mix-blend-mode: screen; }
.v2-head-logo { position: relative; z-index: 1; padding: 24px; }
.v2-head-logo[hidden] { display: none; }
.v2-head-logo img { display: block; max-width: min(72%, 420px); max-height: 88px; object-fit: contain; filter: drop-shadow(0 10px 26px rgba(0,0,0,0.45)); }
.v2-head-status { margin: 0; font-size: 0.88rem; color: #9fb0c6; }
.v2-head-status[data-state="error"] { color: #ffb3b3; }
.v2-head-status[data-state="loading"] { color: #a9c1ff; }
.v2-head-status[hidden] { display: none; }
.v2-titlebar { display: flex; gap: 16px; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; }
.v2-title-wrap { display: flex; flex-direction: column; gap: 10px; min-width: 0; }
.v2-badges { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.v2-badges[hidden] { display: none; }
.v2-badges .badge { display: inline-flex; align-items: center; gap: 6px; padding: 0.25rem 0.65rem; border-radius: 10px; font-size: 0.78rem; letter-spacing: 0.04em; text-transform: uppercase; background: rgba(21, 28, 42, 0.85); border: 1px solid rgba(69,93,129,0.4); color: #dbe4f4; }
.v2-badges .badge--tmdb { background: rgba(19, 68, 126, 0.85); border-color: rgba(32, 120, 220, 0.6); color: #cfe6ff; }
.v2-badges .badge--certification { font-weight: 700; }
.v2-title { margin: 0; font-size: clamp(24px, 2.6vw, 40px); font-weight: 800; letter-spacing: -0.015em; color: var(--fg); word-break: break-word; }
.v2-subline { color: #cfd6e2; font-size: 0.98rem; opacity: .92; min-height: 1.2em; }
.v2-subline[hidden] { display: none; }
.v2-meta { color: #9fb0c6; font-size: 0.9rem; }
.v2-meta[hidden] { display: none; }
.v2-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.v2-icon-btn { width: 44px; height: 44px; border: 1px solid var(--border); border-radius: 14px; background: rgba(12,18,28,0.9); color: var(--fg); display: inline-flex; align-items: center; justify-content: center; cursor: pointer; text-decoration: none; transition: background .2s ease, border-color .2s ease, color .2s ease, transform .2s ease; }
.v2-icon-btn:hover { border-color: rgba(106,166,255,0.6); color: var(--accent); background: rgba(106,166,255,0.14); transform: translateY(-1px); }
.v2-icon-btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
.v2-icon-btn[hidden] { display: none; }
.v2-icon { width: 22px; height: 22px; display: block; }

.v2-chips { display: flex; flex-wrap: wrap; gap: 10px; }
.v2-chips[hidden] { display: none; }
.v2-chips .chip { padding: .3rem .75rem; border-radius: 999px; background: #1a2230; border: 1px solid #263147; font-size: .84rem; color: #dbe4f4; }
.v2-chip--rating { display: inline-flex; align-items: center; gap: 6px; padding: 0.35rem 0.8rem; border-radius: 999px; background: rgba(18, 26, 40, 0.85); border: 1px solid rgba(106,166,255,0.35); font-weight: 600; color: #f4fbff; }
.v2-chip--rating span { font-size: 0.82rem; letter-spacing: 0.04em; text-transform: uppercase; color: rgba(206, 222, 255, 0.75); }
.v2-chip--rating[data-score="high"] { background: linear-gradient(135deg, rgba(48, 202, 140, 0.35), rgba(14, 80, 52, 0.65)); border-color: rgba(48, 202, 140, 0.6); }
.v2-chip--rating[data-score="medium"] { background: linear-gradient(135deg, rgba(255, 194, 82, 0.28), rgba(120, 70, 14, 0.55)); border-color: rgba(255, 194, 82, 0.52); }
.v2-chip--rating[data-score="low"] { background: linear-gradient(135deg, rgba(255, 105, 97, 0.28), rgba(110, 18, 26, 0.52)); border-color: rgba(255, 105, 97, 0.52); }
.v2-age-badge { display: inline-flex; align-items: center; justify-content: center; min-width: 40px; padding: 0.25rem 0.6rem; border-radius: 12px; background: rgba(38, 52, 78, 0.88); border: 1px solid rgba(110, 140, 188, 0.6); font-size: 0.82rem; font-weight: 700; letter-spacing: 0.06em; color: #f0f6ff; text-transform: uppercase; }
.v2-genre-chip,
.v2-provider-chip { display: inline-flex; align-items: center; gap: 8px; padding: 6px 12px; border-radius: 999px; background: rgba(21, 28, 42, 0.75); border: 1px solid rgba(69,93,129,0.4); color: #dbe4f4; font-size: 0.9rem; line-height: 1.1; }
.v2-provider-chip img { width: 20px; height: 20px; object-fit: contain; border-radius: 4px; background: rgba(8, 12, 20, 0.7); }
.v2-genre-chip[data-state="primary"] { background: rgba(106,166,255,0.18); border-color: rgba(106,166,255,0.5); color: #f0f6ff; }
.v2-provider-chip[data-state="unavailable"] { opacity: 0.5; filter: grayscale(0.8); }

.v2-tabs { display: flex; gap: 10px; padding: 0 4px 0 0; border-bottom: 1px solid #1d2635; position: sticky; top: 0; z-index: 2; background: linear-gradient(180deg, rgba(13,18,27,0.96), rgba(13,18,27,0.72)); backdrop-filter: blur(14px); }
.v2-tabs button { border: 1px solid var(--border); background: #0f141d; color: var(--fg); border-radius: 12px; padding: 10px 18px; cursor: pointer; transition: background .18s ease, border-color .18s ease, color .18s ease; font-size: 0.92rem; }
.v2-tabs button:hover:not(.active) { border-color: rgba(106,166,255,0.35); }
.v2-tabs button.active { color: var(--accent); border-color: rgba(106,166,255,0.65); background: rgba(106,166,255,0.16); }
.v2-tabs button:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

.v2-body { display: flex; flex-direction: column; gap: 24px; padding-bottom: 24px; }
.v2-pane { color: #d8dde6; }
.v2-overview { display: flex; flex-direction: column; gap: 12px; }
.v2-overview-text { margin: 0; white-space: pre-line; line-height: 1.6; }
.line-clamp { display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; -webkit-line-clamp: var(--line-clamp-lines, 5); }
.line-clamp-5 { --line-clamp-lines: 5; }
.line-clamp.is-expanded { display: block; -webkit-line-clamp: unset; overflow: visible; }
.v2-overview-toggle { align-self: flex-start; background: none; border: none; padding: 0; color: var(--accent); font-weight: 600; cursor: pointer; font-size: 0.95rem; text-decoration: none; }
.v2-overview-toggle:hover { text-decoration: underline; }
.v2-overview-toggle:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; border-radius: 6px; }
.v2-seasons { display: flex; flex-direction: column; gap: 14px; }
.v2-cast { padding-top: 4px; }
.v2-details { display: flex; flex-direction: column; gap: 20px; }
.v2-details-grid { display: grid; gap: 24px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.v2-details-section { display: flex; flex-direction: column; gap: 12px; background: linear-gradient(180deg, rgba(20,26,38,0.6), rgba(20,26,38,0.36)); border: 1px solid rgba(69,93,129,0.25); border-radius: 14px; padding: 18px 20px; }
.v2-details-heading { margin: 0; font-size: 0.78rem; letter-spacing: 0.08em; text-transform: uppercase; color: #8fa2c5; }
.v2-details-list { margin: 0; display: grid; grid-template-columns: minmax(120px, 160px) minmax(0, 1fr); column-gap: 18px; row-gap: 10px; }
.v2-details-list dt { margin: 0; font-size: 0.78rem; letter-spacing: 0.08em; text-transform: uppercase; color: #7f93b5; grid-column: 1; }
.v2-details-list dd { margin: 0; font-size: 0.95rem; color: #dbe4f4; grid-column: 2; }
.v2-chip-group { display: flex; flex-wrap: wrap; gap: 10px; }
.v2-chip-group .chip { padding: .3rem .75rem; border-radius: 999px; background: #1a2230; border: 1px solid #263147; font-size: .84rem; color: #dbe4f4; }
.v2-details-empty { margin: 8px 0 0; padding: 14px 16px; border-radius: 12px; border: 1px dashed rgba(69,93,129,0.35); background: rgba(18,24,36,0.35); color: #9fb0c6; font-size: 0.95rem; }
.v2-provider-groups { display: flex; flex-direction: column; gap: 14px; }
.v2-provider-group { display: flex; flex-direction: column; gap: 8px; }
.v2-provider-label { margin: 0; font-size: 0.8rem; letter-spacing: 0.08em; text-transform: uppercase; color: #7f93b5; }
.v2-provider-list { display: flex; flex-wrap: wrap; gap: 10px; }
.v2-provider { display: inline-flex; align-items: center; gap: 8px; padding: 6px 12px; border-radius: 12px; background: rgba(21,28,42,0.65); border: 1px solid rgba(69,93,129,0.32); color: #dbe4f4; font-size: 0.9rem; }
.v2-provider img { width: 28px; height: 28px; object-fit: contain; border-radius: 6px; background: rgba(8,12,20,0.6); }
.v2-provider-name { font-weight: 500; }
.v2-cast-scroll { display: flex; gap: 16px; overflow-x: auto; padding: 8px 4px 12px; scrollbar-width: thin; scrollbar-color: rgba(106,166,255,0.45) rgba(13,18,27,0.4); }
.v2-cast-scroll::-webkit-scrollbar { height: 6px; }
.v2-cast-scroll::-webkit-scrollbar-track { background: rgba(13,18,27,0.45); border-radius: 999px; }
.v2-cast-scroll::-webkit-scrollbar-thumb { background: rgba(106,166,255,0.45); border-radius: 999px; }
.v2-cast[data-loading="true"] .v2-cast-scroll { position: relative; }
.v2-cast[data-loading="true"] .v2-cast-scroll::after { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, rgba(15,20,32,0.35), rgba(15,20,32,0.1), rgba(15,20,32,0.35)); animation: shimmer 1.4s linear infinite; pointer-events: none; border-radius: 18px; }
.v2-cast-status { margin: 12px 4px 0; font-size: 0.85rem; color: #9fb0c6; display: flex; align-items: center; gap: 8px; }
.v2-cast-status[data-state="error"] { color: #ffb3b3; }
.v2-cast-status::before { content: ''; width: 10px; height: 10px; border-radius: 50%; background: currentColor; opacity: 0.6; }
.v2-cast-status[data-state="loading"]::before { animation: pulse 1.2s ease-in-out infinite; }
.v2-cast-card { flex: 0 0 auto; min-width: 156px; min-height: 176px; background: linear-gradient(180deg, rgba(18,24,36,0.86), rgba(12,17,26,0.78)); border: 1px solid rgba(69,93,129,0.32); border-radius: 18px; padding: 16px 18px; display: flex; flex-direction: column; align-items: center; text-align: center; gap: 12px; transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease, background .2s ease; }
.v2-cast-card--no-role { gap: 10px; }
.v2-cast-card:hover { transform: translateY(-4px); border-color: rgba(106,166,255,0.55); box-shadow: 0 12px 28px rgba(8,12,20,0.6); background: rgba(18,26,40,0.92); }
.v2-cast-card:focus-visible { outline: 2px solid var(--accent); outline-offset: 4px; transform: translateY(-4px); border-color: rgba(106,166,255,0.65); box-shadow: 0 12px 28px rgba(8,12,20,0.65); }
.v2-cast-card p { margin: 0; }
.v2-cast-avatar { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, rgba(32,42,62,0.9), rgba(18,24,36,0.9)); border: 1px solid rgba(78,110,154,0.5); display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; box-shadow: inset 0 0 12px rgba(8,12,20,0.55); }
.v2-cast-avatar.has-image { background: rgba(12,18,28,0.65); border-color: rgba(78,110,154,0.32); box-shadow: none; }
.v2-cast-avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }
.v2-cast-initials { font-size: 1.35rem; font-weight: 700; letter-spacing: 0.08em; color: #dce4f6; text-transform: uppercase; }
.v2-cast-name { font-size: 0.98rem; font-weight: 600; color: #e4ecf9; }
.v2-cast-role { font-size: 0.85rem; color: #9fb0c6; line-height: 1.3; }
.v2-lang-badge { align-self: flex-start; padding: 4px 8px; border-radius: 999px; background: rgba(32,46,70,0.8); color: #cfe0ff; font-size: 0.72rem; letter-spacing: 0.08em; text-transform: uppercase; }
.v2-cast-skeleton,
.v2-episode-skeleton { position: relative; overflow: hidden; border-radius: 18px; background: rgba(15,20,32,0.7); border: 1px solid rgba(40,56,84,0.5); }
.v2-cast-skeleton::after,
.v2-episode-skeleton::after { content: ""; position: absolute; inset: 0; background: linear-gradient(90deg, rgba(16,22,34,0), rgba(106,166,255,0.25), rgba(16,22,34,0)); transform: translateX(-100%); animation: shimmer 1.4s linear infinite; }
.lazy-image { position: relative; display: block; background: rgba(12, 16, 24, 0.85); border-radius: inherit; }
.lazy-image::before { content: ""; display: block; padding-bottom: var(--lazy-aspect, 56%); }
.lazy-image img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity .35s ease; }
.lazy-image[data-state="ready"] img { opacity: 1; }
.lazy-image[data-state="ready"]::after { opacity: 0; }
.lazy-image::after { content: ""; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(18, 24, 36, 0.6), rgba(12, 18, 28, 0.6)); transition: opacity .3s ease; }

.modalv2-loading { padding: 32px 16px; text-align: center; color: #b7c4d8; font-size: 0.95rem; }

/* Seasons accordion */
.season-card { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: rgba(14, 18, 28, 0.65); }
.season-head { display: grid; grid-template-columns: 84px 1fr auto; align-items: center; gap: 12px; padding: 10px 12px; background: rgba(18, 24, 36, 0.85); cursor: pointer; transition: background .18s ease, border-color .18s ease; }
.season-card.open .season-head { background: rgba(22, 30, 46, 0.92); }
.season-thumb { width: 80px; aspect-ratio: 2 / 3; background: #0e1217; border-radius: 6px; overflow: hidden; }
.season-thumb img { display: block; width: 100%; height: 100%; object-fit: cover; object-position: center; }
.season-title { font-weight: 600; color: var(--fg); }
.season-sub { font-size: 0.92rem; color: #9fb0c6; }
.season-body { padding: 8px 12px 10px; display: none; background: rgba(12, 16, 24, 0.82); }
.season-card.open .season-body { display: block; }
.chev { width: 28px; height: 28px; display: grid; place-items: center; border: 1px solid #2a3a56; background: rgba(16, 23, 40, 0.6); border-radius: 8px; transition: transform .18s ease, border-color .18s ease, background .18s ease; font-size: 1.2rem; color: var(--fg); }
.season-card.open .chev { transform: rotate(90deg); border-color: rgba(106,166,255,0.55); background: rgba(106,166,255,0.18); color: var(--accent); }
.episode { display: grid; grid-template-columns: minmax(128px, 168px) 1fr; gap: 14px; padding: 10px 0; border-bottom: 1px dashed #23324c; align-items: stretch; }
.episode:last-child { border-bottom: none; }
.ep-media { width: 100%; }
.ep-still { position: relative; width: 100%; aspect-ratio: 16 / 9; border-radius: 8px; overflow: hidden; background: #0b1120; display: grid; place-items: center; }
.ep-still img { display: block; width: 100%; height: 100%; object-fit: cover; object-position: center; }
.ep-still[data-state="empty"] { background: linear-gradient(135deg, rgba(18, 24, 36, 0.8), rgba(12, 16, 24, 0.8)); }
.ep-still-initials { font-weight: 600; font-size: 1.4rem; letter-spacing: 0.08em; text-transform: uppercase; color: #9fb0c6; }
.ep-content { display: grid; gap: 6px; }
.ep-header { display: flex; gap: 10px; align-items: center; justify-content: space-between; }
.ep-title { font-weight: 600; color: #dbe4f4; }
.badges { display: flex; gap: 6px; align-items: center; }
.badges .badge { display: inline-flex; align-items: center; gap: 6px; padding: 0.25rem 0.65rem; border-radius: 10px; font-size: 0.78rem; letter-spacing: 0.04em; text-transform: uppercase; background: rgba(21, 28, 42, 0.85); border: 1px solid rgba(69,93,129,0.4); color: #dbe4f4; }
.badges .badge--tmdb { background: rgba(19, 68, 126, 0.85); border-color: rgba(32, 120, 220, 0.6); color: #cfe6ff; }
.badges .badge--runtime { background: rgba(32, 42, 62, 0.8); }
.badges .badge--certification { font-weight: 700; }
.ep-meta { opacity: .85; color: #9fb0c6; font-size: .92rem; }
.ep-overview { margin: 0; color: #b9c6dc; font-size: .94rem; line-height: 1.45; }
.episode-empty { margin: 8px 0; color: #9fb0c6; font-style: italic; }

.v2-foot { display: flex; align-items: center; justify-content: space-between; gap: 18px; padding-top: 18px; border-top: 1px solid rgba(32, 46, 70, 0.6); margin-top: 8px; flex-wrap: wrap; }
.v2-logos { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
.v2-logo { display: inline-flex; align-items: center; justify-content: center; padding: 8px 10px; border-radius: 12px; background: rgba(14, 20, 32, 0.7); border: 1px solid rgba(40, 56, 84, 0.45); min-height: 48px; min-width: 72px; }
.v2-logo img { display: block; max-height: 36px; max-width: 120px; object-fit: contain; filter: drop-shadow(0 6px 16px rgba(0,0,0,0.6)); }
.v2-footnote { margin: 0; font-size: 0.78rem; color: rgba(189, 206, 232, 0.7); text-align: right; }
.v2-footnote strong { color: rgba(206, 222, 255, 0.92); font-weight: 600; }
.tmdb-attribution { display: inline-flex; align-items: center; gap: 8px; padding: 4px 10px; border-radius: 10px; background: rgba(13, 72, 120, 0.55); border: 1px solid rgba(52, 116, 182, 0.65); color: #d6ebff; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; }

.accordion-stack { display: flex; flex-direction: column; gap: 12px; }
.season-head-meta { display: flex; flex-wrap: wrap; gap: 6px 10px; align-items: center; color: #9fb0c6; font-size: 0.9rem; }

.network-chip { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 12px; background: rgba(18, 26, 40, 0.75); border: 1px solid rgba(52, 78, 118, 0.55); color: #dbe4f4; }
.network-chip img { width: 24px; height: 24px; object-fit: contain; filter: drop-shadow(0 4px 10px rgba(0,0,0,0.45)); }

.v2-accordion-wrap { display: flex; flex-direction: column; gap: 12px; }

@media (prefers-reduced-motion: reduce) {
  .chev,
  .season-card.open .chev,
  .season-card.open .season-body,
  .v2-head-backdrop,
  .v2-cast-card,
  .v2-head-hero::after,
  .v2-cast-skeleton::after,
  .v2-episode-skeleton::after,
  .lazy-image img { transition: none; animation: none; }
}

@media (max-width: 1080px) {
  .v2-layout { grid-template-columns: minmax(200px, 280px) minmax(0, 1fr); gap: 28px; padding: 20px 20px 24px; }
  .v2-side { top: 20px; }
}

@media (max-width: 880px) {
  .v2-layout { grid-template-columns: 1fr; }
  .v2-side { position: static; flex-direction: row; align-items: flex-start; gap: 20px; flex-wrap: wrap; }
  .v2-quickfacts { flex: 1 1 auto; }
  .v2-tabs { position: static; }
  .v2-head-visual { min-height: 180px; }
  .v2-foot { flex-direction: column; align-items: flex-start; gap: 12px; }
  .v2-footnote { text-align: left; }
}

@media (max-width: 640px) {
  .v2-layout { padding: 18px; gap: 20px; }
  .v2-side { flex-direction: column; }
  .v2-poster-card { max-width: 280px; }
  .v2-tabs { flex-wrap: wrap; gap: 8px; }
  .v2-tabs button { flex: 1 1 calc(50% - 4px); text-align: center; }
  .v2-details-grid { grid-template-columns: 1fr; }
  .episode { grid-template-columns: 1fr; }
  .ep-header { flex-direction: column; align-items: flex-start; gap: 4px; }
  .v2-head-visual { min-height: 200px; }
  .v2-head-overlay-meta { right: 20px; bottom: 20px; max-width: min(320px, calc(100% - 40px)); }
  .v2-head-overlay-logo img { max-width: 82%; max-height: 96px; }
  .v2-logos { width: 100%; }
  .v2-logo { flex: 1 1 calc(50% - 8px); justify-content: center; }
  .tmdb-attribution { width: 100%; justify-content: center; text-align: center; }
  .season-head { grid-template-columns: 72px 1fr; grid-auto-flow: row; }
  .chev { grid-column: span 2; justify-self: end; }
  .season-head-meta { width: 100%; }
}

@media (max-width: 480px) {
  .v2-layout { padding: 16px; }
  .v2-icon-btn { width: 40px; height: 40px; }
  .v2-title { font-size: clamp(22px, 8vw, 32px); }
  .v2-quickfacts-list { grid-template-columns: 1fr; }
  .v2-head-visual { border-radius: 16px; min-height: 180px; }
  .v2-head-overlay-meta { right: 16px; bottom: 16px; max-width: calc(100% - 32px); }
  .v2-head-overlay-logo { padding: 18px; }
  .v2-head-overlay-logo img { max-width: 88%; max-height: 78px; }
  .v2-logo { flex: 1 1 100%; }
  .v2-footnote { width: 100%; }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(0); }
  100% { transform: translateX(100%); }
}

@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.9; }
}
