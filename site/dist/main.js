var gn=Object.defineProperty;var P=(e,t)=>()=>(e&&(t=e(e=0)),t);var De=(e,t)=>{for(var n in t)gn(e,n,{get:t[n],enumerable:!0})};function X(e){Object.assign(Re,e),hn.forEach(t=>t(Re))}var Re,hn,v,V=P(()=>{Re={view:"movies",movies:[],shows:[],facets:{},filtered:[],cfg:{}},hn=new Set,v=()=>Re});function A(e,t,n){let r=document.createElement(e);return t&&(r.className=t),n!=null&&(r.textContent=n),r}var k,Ce=P(()=>{k=(e,t=document)=>t.querySelector(e)});async function Ke(e){try{let t=await fetch(e,{cache:"no-store"});if(t&&t.ok)return await t.json()}catch{}return null}function yn(e){try{let t=document.getElementById(e);if(t&&t.textContent)return JSON.parse(t.textContent)}catch{}return null}function mn(e){try{let t=window.__PLEX_EXPORTER__;return(t&&Array.isArray(t[e])?t[e]:null)||null}catch{return null}}function wn(e){try{return(Array.isArray(window[e])?window[e]:null)||null}catch{return null}}async function At(e,t){let n=await Ke(e);if(Array.isArray(n)&&n.length)return ie(t==null?void 0:t.label,`primary:${e}`),n;if(t!=null&&t.embedId){let r=yn(t.embedId);if(Array.isArray(r)&&r.length)return ie(t==null?void 0:t.label,`embedded:${t.embedId}`),r}if(t!=null&&t.exportKey){let r=mn(t.exportKey);if(Array.isArray(r)&&r.length)return ie(t==null?void 0:t.label,`globalBag:${t.exportKey}`),r}if(t!=null&&t.globalVar){let r=wn(t.globalVar);if(Array.isArray(r)&&r.length)return ie(t==null?void 0:t.label,`window:${t.globalVar}`),r}for(let r of(t==null?void 0:t.altUrls)||[]){let o=await Ke(r);if(Array.isArray(o)&&o.length)return ie(t==null?void 0:t.label,`alt:${r}`),o}return ie(t==null?void 0:t.label,"empty"),Array.isArray(n)?n:[]}function En(e,t){let n=e==null?"":String(e).trim();if(!n)return"";if(n.startsWith("//")||n.startsWith("/")||vn.test(n))return n;let r=t?t.endsWith("/")?t:`${t}/`:"",o=n.replace(/^\.\/+/,""),a=l=>l.split("/").map(d=>{if(!d)return"";try{return encodeURIComponent(decodeURIComponent(d))}catch{return encodeURIComponent(d)}}).join("/");if(o.startsWith("data/"))return a(o);let s=o.replace(/^\/+/,""),i=s;if(r){let l=u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),d=r.replace(/\/+$/,"").split("/").pop();if(d){let u=new RegExp(`^${l(d)}/`);i=s.replace(u,"")}}let c=a(i);return`${r}${c}`}function kt(e,t){var o,a;if(!e||typeof e!="object")return e;let n=(a=(o=e.thumbFile)!=null?o:e.thumb)!=null?a:"",r=En(n,t);if(r)e.thumbFile=r,e.thumb=r;else if(n){let s=String(n);e.thumbFile=s,e.thumb==null&&(e.thumb=s)}return e}function Sn(e){return kt(e,pn)}function $(e){return kt(e,bn)}function Ct(e){return!e||typeof e!="object"||($(e),Array.isArray(e.seasons)&&e.seasons.forEach(xt)),e}function xt(e){return!e||typeof e!="object"||($(e),Array.isArray(e.episodes)&&e.episodes.forEach(t=>$(t))),e}function An(e){return Array.isArray(e)?(e.forEach(t=>{t&&typeof t=="object"&&Sn(t)}),e):[]}function kn(e){return Array.isArray(e)?(e.forEach(t=>{t&&typeof t=="object"&&Ct(t)}),e):[]}async function Tt(){let e=await At("data/movies/movies.json",{label:"movies",embedId:"movies-json",exportKey:"movies",globalVar:"__PLEX_MOVIES__",altUrls:["movies/movies.json","data/movies.json","Filme/movies.json","movies.json"]});return An(e)}async function It(){let e=await At("data/series/series_index.json",{label:"shows",embedId:"series-json",exportKey:"shows",globalVar:"__PLEX_SHOWS__",altUrls:["series/series_index.json","data/shows.json","data/series.json","Serien/series.json","series/series.json","series.json","shows.json"]});return kn(e)}async function Nt(e){if(!e)return null;let t=Cn(e),n=xn(t);if(n!==void 0)return n;let r=Tn(e);for(let o of r){let a=await Ke(o);if(a&&typeof a=="object"){let s=In(a);return Et(t,s,e),Lt(s)}}return Et(t,null,e),null}function ie(e,t){if(e)try{St[e]=t}catch{}}function Bt(){return{...St}}function Cn(e){let t=[];(e==null?void 0:e.ratingKey)!==void 0&&(e==null?void 0:e.ratingKey)!==null&&(e==null?void 0:e.ratingKey)!==""&&t.push(`rk:${String(e.ratingKey)}`);let n=Ie(e==null?void 0:e.href);return n&&t.push(`href:${n}`),t}function Ie(e){return e?String(e).trim().replace(/^\.\//,"").replace(/^\/+/,""):""}function xn(e){for(let t of e)if(Q.has(t)){let n=Q.get(t);return n?Lt(n):null}}function Et(e,t,n){let r=t;e.forEach(c=>{Q.set(c,r)});let o=n==null?void 0:n.ratingKey;o!=null&&Q.set(`rk:${String(o)}`,r);let a=t&&typeof t=="object"?t.ratingKey:void 0;a!=null&&Q.set(`rk:${String(a)}`,r);let s=Ie(n==null?void 0:n.href);s&&Q.set(`href:${s}`,r);let i=t&&typeof t=="object"?Ie(t.href):"";i&&Q.set(`href:${i}`,r)}function Tn(e){let t=new Set,n=Ie(e==null?void 0:e.href);if(n)if(/^https?:/i.test(n))t.add(n);else{n.startsWith("data/")?t.add(n):t.add(`data/${n}`);let o=n.replace(/^data\//,"");o.startsWith("series/")||t.add(`data/series/${o}`);let a=o.replace(/^series\//,"").replace(/^details\//,"").replace(/\.json$/,"");a&&t.add(`data/series/details/${a}.json`)}let r=e==null?void 0:e.ratingKey;return r!=null&&t.add(`data/series/details/${String(r)}.json`),Array.from(t)}function In(e){if(!e||typeof e!="object")return null;let t={...e};$(t),t.genres=ze(t.genres);let n=Ln(t.cast||t.roles||[]);return t.cast=n,t.roles=n,t.seasons=Array.isArray(t.seasons)?t.seasons.map(Nn).filter(Boolean):[],t.seasonCount=Number.isFinite(t.seasonCount)?t.seasonCount:t.seasons.length,Ct(t),t}function Nn(e){if(!e||typeof e!="object")return null;let t={...e};return $(t),t.genres=ze(t.genres),t.episodes=Array.isArray(t.episodes)?t.episodes.map(Bn).filter(Boolean):[],xt(t),t}function Bn(e){if(!e||typeof e!="object")return null;let t={...e};return $(t),t.genres=ze(t.genres),t}function ze(e){if(!Array.isArray(e))return[];let t=new Set,n=[];return e.forEach(r=>{let o=null;if(typeof r=="string"){let a=r.trim();a&&(o={tag:a})}else if(r&&typeof r=="object"){let a=String(r.tag||r.title||r.name||r.label||"").trim();a&&(o={...r,tag:a})}o&&!t.has(o.tag)&&(t.add(o.tag),n.push(o))}),n}function Ln(e){return Array.isArray(e)?e.map(t=>{if(!t)return null;if(typeof t=="string"){let n=t.trim();return n?{tag:n}:null}if(typeof t=="object"){let n=String(t.tag||t.name||t.role||"").trim();return n?{...t,tag:n}:{...t}}return null}).filter(Boolean):[]}function Lt(e){if(e==null)return e;try{return structuredClone(e)}catch{}try{return JSON.parse(JSON.stringify(e))}catch{}return e}var St,Q,pn,bn,vn,ce=P(()=>{St={movies:null,shows:null},Q=new Map,pn="data/movies/",bn="data/series/",vn=/^[a-z][a-z0-9+.-]*:/i});function ee(e){let t=new Set,n=[];return(e||[]).forEach(r=>{let o="";typeof r=="string"?o=r:r&&typeof r=="object"&&(o=r.tag||r.title||r.name||"");let a=String(o||"").trim();a&&!t.has(a)&&(t.add(a),n.push(a))}),n}function Ve(e,t,n=6){if(!e)return;let r=(t||[]).filter(Boolean),o=r.slice(0,n),a=r.slice(n),s=o.map(i=>Oe(i));if(a.length){let i=Oe(`+${a.length} mehr`);i.classList.add("more"),i._extraChips=a.map(c=>Oe(c)),s.push(i)}e.replaceChildren(...s),Mn(e)}function Mn(e=document){try{e.querySelectorAll(".chips .chip.more").forEach(t=>{t.dataset.bound||(t.dataset.bound="1",t.addEventListener("click",()=>{let n=t._extraChips||[];try{n.forEach(r=>t.before(r))}catch{}t.remove()}))})}catch{}}function q(e){return e!=null&&e.year?e.year:e!=null&&e.originallyAvailableAt?String(e.originallyAvailableAt).slice(0,4):""}function _(e){if(e==null||e==="")return"";let t=Number(e);if(Number.isFinite(t)){let n=t.toFixed(1);return n.endsWith(".0")?n.slice(0,-2):n}return String(e).trim()}function Oe(e){let t=document.createElement("span");return t.className="chip",t.textContent=String(e||""),t}function Ne(e){if(!(e!=null&&e.addedAt))return!1;let t=new Date(e.addedAt).getTime();if(!Number.isFinite(t))return!1;let n=v().cfg||{},r=Number(n.newDays||30);return Date.now()-t<=r*24*60*60*1e3}function te(){try{return localStorage.getItem("useTmdb")==="1"}catch{return!1}}var pe=P(()=>{V()});function Pn(){try{H=new Set(JSON.parse(localStorage.getItem(Pt)||"[]"))}catch{H=new Set}}function $t(){try{localStorage.setItem(Pt,JSON.stringify(Array.from(H.values())))}catch{}}function We(e){var r,o;if(!e)return"";let t=e.type==="tv"||e.libraryType==="show"?"show":"movie",n=((r=e.ids)==null?void 0:r.imdb)||((o=e.ids)==null?void 0:o.tmdb)||String(e.ratingKey||"");return n?`${t}:${n}`:""}function _t(e){return H.has(We(e))}function $n(){return H.size}function Ge(e){let t=We(e);t&&(H.has(t)?H.delete(t):H.add(t),$t(),Je())}function Je(){let e=document.getElementById("watchlistCount");e&&(e.textContent=String($n()))}function Ft(){let e=document.getElementById("watchlistPanel");e&&(e.hidden=!1,e.setAttribute("aria-hidden","false"),Ye())}function Mt(){let e=document.getElementById("watchlistPanel");e&&(e.hidden=!0,e.setAttribute("aria-hidden","true")),Ue(!1)}function _n(){H.clear(),$t(),Je(),Ye()}function jn(){let e=jt(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="watchlist.json",document.body.append(r),r.click(),r.remove(),setTimeout(()=>URL.revokeObjectURL(r.href),1e3)}function jt(){let e=v(),t=(e.movies||[]).concat(e.shows||[]),n=new Map(t.map(r=>[We(r),r]));return Array.from(H.values()).map(r=>n.get(r)).filter(Boolean)}function Ye(){let e=document.getElementById("watchlistItems"),t=document.getElementById("watchlistEmpty");if(!e||!t)return;let n=jt();if(n.length===0){e.replaceChildren(),t.hidden=!1;return}t.hidden=!0;let r=document.createDocumentFragment();n.forEach(o=>{let a=document.createElement("li");a.className="watchlist-item";let s=document.createElement("span");s.className="title",s.textContent=o.title||"";let i=document.createElement("button");i.textContent="Entfernen",i.addEventListener("click",()=>{Ge(o),Ye()});let c=document.createElement("button");c.textContent="\xD6ffnen",c.addEventListener("click",()=>{var u,h;let l=o.type==="tv"?"show":"movie",d=((u=o.ids)==null?void 0:u.imdb)||((h=o.ids)==null?void 0:h.tmdb)||String(o.ratingKey||"");d&&(location.hash=`#/${l}/${d}`)}),a.append(s,c,i),r.append(a)}),e.replaceChildren(r)}function Dt(){Pn(),Je();let e=document.getElementById("openWatchlist"),t=document.getElementById("watchlistToggle"),n=document.getElementById("closeWatchlist"),r=document.getElementById("clearWatchlist"),o=document.getElementById("exportWatchlist");e&&e.addEventListener("click",()=>{Ft(),Ue(!0)}),t&&t.addEventListener("click",()=>{let a=document.getElementById("watchlistPanel");a&&!a.hidden?Mt():(Ft(),Ue(!0))}),n&&n.addEventListener("click",()=>{Mt()}),r&&r.addEventListener("click",()=>{_n()}),o&&o.addEventListener("click",()=>{jn()})}function Ue(e){let t=document.getElementById("watchlistToggle");t&&t.setAttribute("aria-expanded",e?"true":"false")}var Pt,H,Ze=P(()=>{V();Pt="watchlist:v1",H=new Set});function qt(e,t){let n=Dn(e,t);if(!n)return;let r=Array.isArray(e)&&!Xe(e)?e||[]:Array.isArray(t)?t:[];n.replaceChildren(),(r||[]).forEach((o,a)=>n.append(Rn(o,a)))}function Xe(e){return e instanceof Element||typeof e=="string"}function Dn(e,t){if(Xe(e)){if(e instanceof Element)return e;if(typeof e=="string")return document.querySelector(e)}if(Xe(t)){if(t instanceof Element)return t;if(typeof t=="string")return document.querySelector(t)}return document.getElementById("seasonsAccordion")}function Rn(e,t){$(e);let n=document.createElement("article");n.className="season-card";let r=document.createElement("div");r.className="season-head";let o=document.createElement("div");o.className="season-thumb";let a=new Image;a.loading="lazy",a.decoding="async",a.src=e.thumbFile||"",a.alt=e.title||`Staffel ${e.seasonNumber||t+1}`,o.append(a);let s=document.createElement("div"),i=document.createElement("div");i.className="season-title",i.textContent=e.title||`Staffel ${e.seasonNumber||t+1}`;let c=document.createElement("div");c.className="season-sub";let l=e.year||e.releaseYear||"",d=Array.isArray(e.episodes)?e.episodes.length:e.episodeCount||0;c.textContent=[l,d?`${d} Episoden`:""].filter(Boolean).join(" \u2022 "),s.append(i,c);let u=document.createElement("div");u.className="chev",u.textContent="\u203A",r.append(o,s,u);let h=document.createElement("div");return h.className="season-body",(e.episodes||[]).forEach(f=>{$(f),h.append(qn(f))}),r.addEventListener("click",()=>n.classList.toggle("open")),n.append(r,h),n}function qn(e){var h;let t=document.createElement("div");t.className="episode";let n=document.createElement("div");n.className="ep-title";let r=e.seasonNumber!=null?Number(e.seasonNumber):null,o=e.episodeNumber!=null?Number(e.episodeNumber):null,a=e.seasonEpisode&&String(e.seasonEpisode).toUpperCase()||(Number.isFinite(r)&&Number.isFinite(o)?`S${String(r).padStart(2,"0")}E${String(o).padStart(2,"0")}`:"");n.textContent=`${a?a+" \u2022 ":""}${e.title||""}`;let s=document.createElement("div");s.className="badges";let i=Number((h=e.audienceRating)!=null?h:e.rating);if(Number.isFinite(i)){let f=document.createElement("span");f.className="badge",f.textContent=`${i.toFixed(1)}`,s.append(f)}let c=document.createElement("div");c.className="ep-meta";let l=e.durationMin||(e.duration?Math.round(Number(e.duration)/6e4):null),d=e.durationHuman||(l?`${l} min`:null),u=e.originallyAvailableAt||e.date||"";return c.textContent=[d,u].filter(Boolean).join(" \u2022 "),t.append(n,s,c),t}var Ht=P(()=>{ce()});function be(e){if(e==null||typeof e!="object")return e;if(typeof structuredClone=="function")try{return structuredClone(e)}catch{}try{return JSON.parse(JSON.stringify(e))}catch{}if(Array.isArray(e))return e.map(n=>be(n));let t={};for(let n of Object.keys(e))t[n]=be(e[n]);return t}function Be(e){if(!e||typeof e!="object")return null;let t=be(e);return t.type==="show"&&(t.type="tv"),t.type||(t.type="movie"),t}function Le(e){if(!e||typeof e!="object")return null;let t=be(e);return t.type!=="tv"&&(t.type="tv"),Qe(t),t}function Hn(e){if(!e||typeof e!="object")return null;let t=be(e);return Qe(t),t}function Kt(e){let t=Array.isArray(e==null?void 0:e.seasons)?e.seasons:[],n=t.some(o=>Array.isArray(o==null?void 0:o.episodes)&&o.episodes.length),r=Array.isArray(e==null?void 0:e.cast)?e.cast:Array.isArray(e==null?void 0:e.roles)?e.roles:[];return!t.length||!n||!r.length}function zt(e,t){if(!e)return e;if(t&&typeof t=="object"){let n=Hn(t);Object.assign(e,n)}return Qe(e),e}function Qe(e){if(!e||typeof e!="object")return;et(e),e.genres=tt(e.genres);let t=On(e.cast||e.roles||[]);e.cast=t,e.roles=t,e.seasons=Array.isArray(e.seasons)?e.seasons.map(Kn).filter(Boolean):[];let n=Number(e.seasonCount);e.seasonCount=Number.isFinite(n)&&n>0?n:e.seasons.length}function Kn(e){if(!e||typeof e!="object")return null;let t={...e};return et(t),t.genres=tt(t.genres),t.episodes=Array.isArray(t.episodes)?t.episodes.map(zn).filter(Boolean):[],t}function zn(e){if(!e||typeof e!="object")return null;let t={...e};return et(t),t.genres=tt(t.genres),t}function et(e){$(e)}function tt(e){if(!Array.isArray(e))return[];let t=new Set,n=[];return e.forEach(r=>{let o=null;if(typeof r=="string"){let a=r.trim();a&&(o={tag:a})}else if(r&&typeof r=="object"){let a=String(r.tag||r.title||r.name||r.label||"").trim();a&&(o={...r,tag:a})}o&&!t.has(o.tag)&&(t.add(o.tag),n.push(o))}),n}function On(e){return Array.isArray(e)?e.map(t=>{if(!t)return null;if(typeof t=="string"){let n=t.trim();return n?{tag:n}:null}if(typeof t=="object"){let n=String(t.tag||t.name||t.role||"").trim();return n?{...t,tag:n}:{...t}}return null}).filter(Boolean):[]}var Ot=P(()=>{ce()});function Jn(){if(F)return F;let e=document.getElementById("modal-root-v2");if(!e)return null;if(z=e,e.classList.add("modalv2-overlay"),e.hasAttribute("hidden")||e.setAttribute("hidden",""),e.dataset.modalv2Ready||(e.innerHTML=`
      <div class="modalv2-backdrop" data-modalv2-backdrop="1"></div>
      <div class="modalv2-dialog" role="dialog" aria-modal="true">
        <div class="modalv2-scroll" data-modalv2-scroll></div>
      </div>
    `,e.dataset.modalv2Ready="1",e.addEventListener("click",Yn)),N=e.querySelector(".modalv2-dialog"),N&&!N.hasAttribute("tabindex")&&N.setAttribute("tabindex","-1"),G=e.querySelector("[data-modalv2-scroll]"),G&&!F){let t=G.querySelector(".modalv2");t?F=t:(F=document.createElement("div"),F.className="modalv2",F.setAttribute("hidden",""),G.appendChild(F))}return F}function Yn(e){if(!z)return;let t=e.target;(t===z||t&&t.dataset&&t.dataset.modalv2Backdrop)&&rt()}function Ut(){return N?Array.from(N.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])')).filter(t=>t.hasAttribute("disabled")||t.getAttribute("aria-hidden")==="true"||t.hasAttribute("hidden")?!1:t.offsetParent!==null):[]}function Zn(){N&&(re&&N.removeEventListener("keydown",re),re=e=>{if(e.key!=="Tab")return;let t=Ut();if(!t.length)return;let n=t[0],r=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),n.focus())},N.addEventListener("keydown",re))}function Xn(){!N||!re||(N.removeEventListener("keydown",re),re=null)}function Qn(){de||(de=e=>{e.key==="Escape"&&(e.preventDefault(),rt())},window.addEventListener("keydown",de))}function er(){de&&(window.removeEventListener("keydown",de),de=null)}function Fe(){let e=Jn();return!e||!z?null:(z.hidden=!1,z.setAttribute("aria-hidden","false"),document.body.classList.add("modalv2-open"),G&&(G.scrollTop=0),Zn(),Qn(),e)}function nt(){if(!N)return;let e=N.querySelector("#v2Close"),t=Ut(),n=e&&!e.hasAttribute("hidden")?e:t[0];if(n||(n=N),n){let r=()=>{try{n.focus()}catch{}};(window.requestAnimationFrame||setTimeout)(r,0)}}function tr(e){var r;let t=((r=e==null?void 0:e.tmdb)==null?void 0:r.poster)||(e==null?void 0:e.tmdbPoster),n=(e==null?void 0:e.poster)||(e==null?void 0:e.thumbFile)||(e==null?void 0:e.art)||"";return te()&&t?t:n}function Wt(e){let t=(e==null?void 0:e.runtimeMin)||(e==null?void 0:e.durationMin)||(e!=null&&e.duration?Math.round(Number(e.duration)/6e4):null);return Number.isFinite(t)?(e==null?void 0:e.type)==="tv"?`~${t} min/Ep`:`${t} min`:""}function nr(e){var n;let t=Number((n=e==null?void 0:e.rating)!=null?n:e==null?void 0:e.audienceRating);return Number.isFinite(t)?`\u2605 ${_(t)}`:""}function Gt(e){return(e==null?void 0:e.studio)||(e==null?void 0:e.network)||(e==null?void 0:e.studioName)||""}function rr(e){let t=[e==null?void 0:e.originallyAvailableAt,e==null?void 0:e.releaseDate,e==null?void 0:e.premiereDate,e==null?void 0:e.firstAired,e==null?void 0:e.airDate];for(let r of t){let o=r==null?"":String(r).trim();if(!o)continue;let a=new Date(o);if(Number.isFinite(a.getTime()))try{return a.toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{}let s=o.match(/^\d{4}-\d{2}-\d{2}/);if(s&&s[0])return s[0];if(o.length>=4)return o.slice(0,10)}let n=q(e);return n?String(n):""}function ne(e){return Array.isArray(e)?e.map(t=>t?typeof t=="string"?t:t.tag||t.title||t.name||"":"").filter(Boolean):[]}function or(e){let n=(Array.isArray(e==null?void 0:e.genres)?e.genres:[]).map(r=>r?typeof r=="string"?r:r.tag||r.title||r.name||"":"").filter(Boolean);return Array.from(new Set(n))}function ar(e){let t=[];return Ne(e)&&t.push("Neu"),(e==null?void 0:e.type)==="tv"&&Number.isFinite(Number(e==null?void 0:e.seasonCount))&&t.push(`Staffeln: ${e.seasonCount}`),((e==null?void 0:e.genres)||[]).map(r=>r?typeof r=="string"?r:r.tag||r.title||r.name||"":"").filter(Boolean).forEach(r=>t.push(r)),t}function sr(e){return(Array.isArray(e==null?void 0:e.cast)?e.cast:Array.isArray(e==null?void 0:e.roles)?e.roles:[]).map(n=>{var i,c,l;if(!n)return null;if(typeof n=="string"){let d=String(n).trim();return d?{name:d,role:"",thumb:"",tmdbProfile:"",raw:null}:null}let r=String(n.tag||n.name||n.role||"").trim();if(!r)return null;let o=(()=>{let d=String(n.role||"").trim();return d?d.toLowerCase()===r.toLowerCase()?"":d:""})(),a=[(i=n==null?void 0:n.tmdb)==null?void 0:i.profile,(c=n==null?void 0:n.tmdb)==null?void 0:c.profile_path,(l=n==null?void 0:n.tmdb)==null?void 0:l.profilePath,n==null?void 0:n.tmdbProfile,n==null?void 0:n.profile,n==null?void 0:n.profile_path,n==null?void 0:n.profilePath].find(d=>typeof d=="string"&&d.trim()),s=[n==null?void 0:n.thumb,n==null?void 0:n.photo,n==null?void 0:n.image].find(d=>typeof d=="string"&&d.trim())||"";return{name:r,role:o,thumb:s,tmdbProfile:a?String(a).trim():"",raw:n}}).filter(Boolean)}function ir(e){let t=String(e||"").trim();if(!t)return"";if(/^https?:\/\//i.test(t))return t;if(t.startsWith("//"))return`https:${t}`;let n=t.startsWith("/")?t:`/${t}`;return`${Vn}${Un}${n}`}function cr(e){let t=String(e||"").trim();return t?/^https?:\/\//i.test(t)||t.startsWith("data:")?t:t.startsWith("//")?`https:${t}`:t:""}function lr(e,t){var o,a,s;if(!e)return"";let n=e.raw||{};if(t){let i=[e.tmdbProfile,(o=n==null?void 0:n.tmdb)==null?void 0:o.profile,(a=n==null?void 0:n.tmdb)==null?void 0:a.profile_path,(s=n==null?void 0:n.tmdb)==null?void 0:s.profilePath,n==null?void 0:n.tmdbProfile,n==null?void 0:n.profile,n==null?void 0:n.profile_path,n==null?void 0:n.profilePath];for(let c of i){let l=ir(c);if(l)return l}}let r=[e.thumb,n==null?void 0:n.thumb,n==null?void 0:n.photo,n==null?void 0:n.image];for(let i of r){let c=cr(i);if(c)return c}return""}function dr(e){let t=String(e||"").trim();if(!t)return"?";let r=t.split(/\s+/).slice(0,2).map(o=>o.charAt(0)).filter(Boolean);return r.length?r.join("").toUpperCase():t.charAt(0).toUpperCase()}function ur(e){let t=e.querySelector(".v2-tabs");if(!t)return;let n=Array.from(t.querySelectorAll("button[data-t]")),r=s=>{n.forEach(i=>{let c=i.dataset.t===s;i.classList.toggle("active",c),i.setAttribute("aria-selected",c?"true":"false"),i.tabIndex=c?0:-1;let l=e.querySelector(`.v2-pane[data-pane="${i.dataset.t}"]`);l&&(l.hidden=!c,l.setAttribute("aria-hidden",l.hidden?"true":"false"))})},o=(s,i)=>{if(!n.length)return;let c=n.indexOf(s),l=i>0?0:n.length-1,d=c===-1?l:(c+i+n.length)%n.length,u=n[d];u&&(u.focus(),r(u.dataset.t))};t.addEventListener("click",s=>{let i=s.target.closest("button[data-t]");i&&(s.preventDefault(),r(i.dataset.t))}),t.addEventListener("keydown",s=>{let i=s.target.closest("button[data-t]");if(i)switch(s.key){case"ArrowLeft":case"ArrowUp":s.preventDefault(),o(i,-1);break;case"ArrowRight":case"ArrowDown":s.preventDefault(),o(i,1);break;case"Home":s.preventDefault(),n[0]&&(n[0].focus(),r(n[0].dataset.t));break;case"End":if(s.preventDefault(),n.length){let c=n[n.length-1];c.focus(),r(c.dataset.t)}break;default:break}});let a=n.find(s=>s.classList.contains("active"))||n[0];a&&r(a.dataset.t)}function fr(e,t){let n=e.querySelector(".v2-cast");if(!n)return;n.innerHTML='<div class="v2-cast-scroll"></div>';let r=n.querySelector(".v2-cast-scroll");if(!r)return;let o=Array.isArray(t)?t.slice(0,12):[];if(!o.length){r.innerHTML='<span class="modalv2-loading">Keine Besetzungsdaten verf\xFCgbar.</span>',r.removeAttribute("role");return}r.setAttribute("role","list");let a=te();o.forEach(s=>{let i=s&&typeof s=="object"&&"name"in s?s:(()=>{let f=String(s||"").trim();return f?{name:f,role:"",thumb:"",tmdbProfile:"",raw:null}:null})();if(!i||!i.name)return;let c=document.createElement("article");c.className="v2-cast-card",c.tabIndex=0,c.setAttribute("role","listitem");let l=String(i.role||"").trim();c.setAttribute("aria-label",l?`${i.name} \u2013 ${l}`:i.name);let d=document.createElement("div");d.className="v2-cast-avatar";let u=lr(i,a);if(u){d.classList.add("has-image");let f=document.createElement("img");f.src=u,f.alt=i.name,f.loading="lazy",f.decoding="async",d.appendChild(f)}else{let f=document.createElement("span");f.className="v2-cast-initials",f.textContent=dr(i.name),f.setAttribute("aria-hidden","true"),d.appendChild(f)}let h=document.createElement("p");if(h.className="v2-cast-name",h.textContent=i.name,c.append(d,h),l){let f=document.createElement("p");f.className="v2-cast-role",f.textContent=l,c.append(f)}else c.classList.add("v2-cast-card--no-role");r.appendChild(c)}),r.children.length||(r.innerHTML='<span class="modalv2-loading">Keine Besetzungsdaten verf\xFCgbar.</span>',r.removeAttribute("role"))}function gr(e,t){let n=e.querySelector(".v2-overview");if(!n)return;let r=typeof t=="string"?t:"";if(!r){n.textContent="";return}let o=document.createElement("p");o.className="v2-overview-text line-clamp line-clamp-5",o.textContent=r;let a=document.createElement("button");a.type="button",a.className="v2-overview-toggle";let s=l=>{o.classList.toggle("is-expanded",l),a.setAttribute("aria-expanded",String(l)),a.textContent=l?"Weniger anzeigen":"Mehr anzeigen"};a.addEventListener("click",()=>{let l=a.getAttribute("aria-expanded")==="true";s(!l)}),n.replaceChildren(o,a),s(!1),(typeof requestAnimationFrame=="function"?requestAnimationFrame:l=>setTimeout(l,0))(()=>{o.scrollHeight>o.clientHeight+1||(o.classList.add("is-expanded"),a.hidden=!0)})}function hr(e,t){let n=e.querySelector(".v2-details");if(!n)return;n.replaceChildren();let r=document.createElement("div");r.className="v2-details-grid";let o=[],a=rr(t);a&&o.push(["Ver\xF6ffentlichung",a]);let s=Wt(t);s&&o.push(["Laufzeit",s]);let i=Gt(t);i&&o.push(["Studio",i]);let c=((t==null?void 0:t.contentRating)||"").trim();c&&o.push(["Freigabe",c]);let l=_(t==null?void 0:t.rating),d=_(t==null?void 0:t.audienceRating),u=_(t==null?void 0:t.userRating);if(l?(o.push(["Bewertung",`\u2605 ${l}`]),d&&d!==l&&o.push(["Publikum",`\u2605 ${d}`])):d&&o.push(["Bewertung",`\u2605 ${d}`]),u&&o.push(["Eigene Wertung",`\u2605 ${u}`]),(t==null?void 0:t.type)==="tv"){let E=Number(t==null?void 0:t.seasonCount),x=Number.isFinite(E)?E:Array.isArray(t==null?void 0:t.seasons)?t.seasons.length:null;Number.isFinite(x)&&x>0&&o.push(["Staffeln",String(x)]);let S=Array.isArray(t==null?void 0:t.seasons)?t.seasons.reduce((L,B)=>{if(!B)return L;let y=Array.isArray(B.episodes)?B.episodes.length:0;return L+(Number.isFinite(y)?y:0)},0):null;Number.isFinite(S)&&S>0&&o.push(["Episoden",String(S)])}let h=ne(t==null?void 0:t.countries);h.length&&o.push(["L\xE4nder",h.join(", ")]);let f=ne(t==null?void 0:t.collections);f.length&&o.push(["Sammlungen",f.join(", ")]);let C=ne(t==null?void 0:t.labels);if(C.length&&o.push(["Labels",C.join(", ")]),t!=null&&t.editionTitle&&o.push(["Edition",t.editionTitle]),t!=null&&t.originalTitle&&t.originalTitle!==t.title&&o.push(["Originaltitel",t.originalTitle]),o.length){let E=document.createElement("section");E.className="v2-details-section",E.dataset.section="general";let x=document.createElement("h3");x.className="v2-details-heading",x.textContent="Allgemein";let S=document.createElement("dl");S.className="v2-details-list",o.forEach(([L,B])=>{if(!L||!B)return;let y=document.createElement("dt");y.textContent=L;let I=document.createElement("dd");I.textContent=B,S.append(y,I)}),S.childElementCount&&(E.append(x,S),r.append(E))}let w=or(t);if(w.length){let E=document.createElement("section");E.className="v2-details-section",E.dataset.section="genres";let x=document.createElement("h3");x.className="v2-details-heading",x.textContent="Genres";let S=document.createElement("div");S.className="v2-chip-group",w.forEach(L=>{let B=document.createElement("span");B.className="chip",B.textContent=L,S.appendChild(B)}),E.append(x,S),r.append(E)}let T=[],j=ne(t==null?void 0:t.directors);j.length&&T.push(["Regie",j.join(", ")]);let D=ne(t==null?void 0:t.writers);D.length&&T.push(["Drehbuch",D.join(", ")]);let Y=ne(t==null?void 0:t.producers);Y.length&&T.push(["Produktion",Y.join(", ")]);let Z=ne((t==null?void 0:t.creators)||(t==null?void 0:t.showrunners));if((t==null?void 0:t.type)==="tv"&&Z.length&&T.push(["Creator",Z.join(", ")]),T.length){let E=document.createElement("section");E.className="v2-details-section",E.dataset.section="crew";let x=document.createElement("h3");x.className="v2-details-heading",x.textContent="Credits";let S=document.createElement("dl");S.className="v2-details-list",T.forEach(([L,B])=>{if(!L||!B)return;let y=document.createElement("dt");y.textContent=L;let I=document.createElement("dd");I.textContent=B,S.append(y,I)}),S.childElementCount&&(E.append(x,S),r.append(E))}if(r.childElementCount)n.appendChild(r);else{let E=document.createElement("p");E.className="v2-details-empty",E.textContent="Keine zus\xE4tzlichen Details verf\xFCgbar.",n.appendChild(E)}}function pr(e,t){let n=e.querySelector(".v2-seasons");if(!n)return;let r=Array.isArray(t==null?void 0:t.seasons)?t.seasons:[];if(!r.length){n.innerHTML='<p class="modalv2-loading">Keine Staffel-Informationen verf\xFCgbar.</p>';return}n.innerHTML="",qt(n,r)}function br(e,t){var l,d;let n=e.querySelector("#v2Tmdb"),r=e.querySelector("#v2Imdb"),o=e.querySelector("#v2Trailer"),a=((l=t==null?void 0:t.ids)==null?void 0:l.tmdb)||(t==null?void 0:t.tmdbId),s=((d=t==null?void 0:t.ids)==null?void 0:d.imdb)||(t==null?void 0:t.imdbId),i=(t==null?void 0:t.trailer)||(t==null?void 0:t.trailerUrl),c=(t==null?void 0:t.type)==="tv"?"tv":"movie";n&&(a?(n.hidden=!1,n.href=`https://www.themoviedb.org/${c}/${a}`):(n.hidden=!0,n.removeAttribute("href"))),r&&(s?(r.hidden=!1,r.href=`https://www.imdb.com/title/${s}/`):(r.hidden=!0,r.removeAttribute("href"))),o&&(i?(o.hidden=!1,o.onclick=()=>window.open(i,"_blank","noopener")):(o.hidden=!0,o.onclick=null))}function vr(e,t){let n=e.querySelector(".v2-title");n&&(n.textContent=(t==null?void 0:t.title)||(t==null?void 0:t.name)||"");let r=((t==null?void 0:t.tagline)||"").trim(),o=e.querySelector(".v2-meta"),a=e.querySelector(".v2-subline"),s=q(t),i=Wt(t),c=nr(t),l=Gt(t),d=[s,i,c,l].filter(Boolean);if(a){let w=d.join(" \u2022 ");a.textContent=r||w,a.hidden=!(r||w)}o&&(o.textContent=r&&d.length?d.join(" \u2022 "):"",o.hidden=!(r&&d.length));let u=e.querySelector(".v2-chips");u&&(u.replaceChildren(),ar(t).forEach(w=>{let T=document.createElement("span");T.className="chip",T.textContent=w,u.appendChild(T)}),u.hidden=!u.childElementCount);let h=e.querySelector(".v2-facts"),f=e.querySelector(".v2-facts-list");if(h&&f){let w=[];s&&w.push(["Jahr",s]);let T=((t==null?void 0:t.contentRating)||"").trim();T&&w.push(["Freigabe",T]),i&&w.push(["Laufzeit",i]),c&&w.push(["Bewertung",c]),l&&w.push(["Studio",l]),f.replaceChildren(),w.forEach(([j,D])=>{let Y=document.createElement("dt");Y.textContent=j;let Z=document.createElement("dd");Z.textContent=D,f.append(Y,Z)}),h.hidden=!w.length}let C=e.querySelector(".v2-poster img");if(C){let w=tr(t);C.src=w||"",C.alt=t!=null&&t.title?`Poster: ${t.title}`:"",C.loading="lazy",C.decoding="async",C.classList.remove("is-ready"),w?(C.addEventListener("load",Vt,{once:!0}),C.addEventListener("error",Vt,{once:!0})):C.classList.add("is-ready")}}function Vt(e){var t;(t=e.currentTarget)==null||t.classList.add("is-ready")}function yr(e="Details werden geladen \u2026"){let t=Fe();t&&(t.hidden=!1,t.innerHTML=`<div class="modalv2-loading">${e}</div>`)}function Jt(e){let t=Fe();if(!t)return;t.hidden=!1;let n=(e==null?void 0:e.type)==="tv";t.innerHTML=`
    <section class="v2-layout">
      <aside class="v2-side">
        <div class="v2-poster"><img alt=""></div>
        <div class="v2-facts" aria-label="Schnellinfos" hidden>
          <h3 class="v2-facts-title">Schnellinfos</h3>
          <dl class="v2-facts-list"></dl>
        </div>
      </aside>
      <div class="v2-info">
        <header class="v2-head">
          <div class="v2-titlebar">
            <div class="v2-title-wrap">
              <h2 class="v2-title" id="modalV2Title"></h2>
              <div class="v2-subline"></div>
              <div class="v2-meta"></div>
            </div>
            <div class="v2-actions" aria-label="Externe Aktionen">
              <button class="v2-icon-btn" id="v2Close" type="button" aria-label="Schlie\xDFen">
                <svg class="v2-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path d="M6 6l12 12M6 18L18 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </button>
              <a class="v2-icon-btn" id="v2Tmdb" target="_blank" rel="noopener noreferrer" aria-label="Auf TMDB \xF6ffnen" hidden>
                <svg class="v2-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path d="M4 9h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9z" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"></path>
                  <path d="M4 9V7a2 2 0 0 1 2-2h1l2 4 2-4 2 4 2-4h1a2 2 0 0 1 2 2v2" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </a>
              <a class="v2-icon-btn" id="v2Imdb" target="_blank" rel="noopener noreferrer" aria-label="Auf IMDb \xF6ffnen" hidden>
                <svg class="v2-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path d="M12 4l2.4 4.9 5.4.8-3.9 3.8.9 5.4-4.8-2.5-4.8 2.5.9-5.4-3.9-3.8 5.4-.8z" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"></path>
                </svg>
              </a>
              <button class="v2-icon-btn" id="v2Trailer" type="button" aria-label="Trailer abspielen" hidden>
                <svg class="v2-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                  <path d="M9 6l8 6-8 6V6z" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round" stroke-linecap="round"></path>
                </svg>
              </button>
            </div>
          </div>
          <div class="v2-chips" aria-label="Attribute"></div>
        </header>
        <nav class="v2-tabs" aria-label="Details Navigation" role="tablist">
          <button type="button" data-t="overview" class="active" id="v2TabOverview" role="tab" aria-controls="v2PaneOverview" aria-selected="true">\xDCberblick</button>
          <button type="button" data-t="details" id="v2TabDetails" role="tab" aria-controls="v2PaneDetails" aria-selected="false">Details</button>
          ${n?'<button type="button" data-t="seasons" id="v2TabSeasons" role="tab" aria-controls="v2PaneSeasons" aria-selected="false">Staffeln</button>':""}
          <button type="button" data-t="cast" id="v2TabCast" role="tab" aria-controls="v2PaneCast" aria-selected="false">Cast</button>
        </nav>
        <section class="v2-body">
          <div class="v2-pane v2-overview" data-pane="overview" id="v2PaneOverview" role="tabpanel" aria-labelledby="v2TabOverview"></div>
          <div class="v2-pane v2-details" data-pane="details" id="v2PaneDetails" role="tabpanel" aria-labelledby="v2TabDetails" hidden></div>
          ${n?'<div class="v2-pane v2-seasons" data-pane="seasons" id="v2PaneSeasons" role="tabpanel" aria-labelledby="v2TabSeasons" hidden></div>':""}
          <div class="v2-pane v2-cast" data-pane="cast" id="v2PaneCast" role="tabpanel" aria-labelledby="v2TabCast" hidden></div>
        </section>
      </div>
    </section>
  `,vr(t,e),br(t,e),gr(t,(e==null?void 0:e.overview)||(e==null?void 0:e.summary)||""),hr(t,e),(e==null?void 0:e.type)==="tv"&&pr(t,e),fr(t,sr(e)),ur(t);let r=t.querySelector("#v2Close");r&&r.addEventListener("click",rt),N&&N.setAttribute("aria-labelledby","modalV2Title"),nt()}async function ye(e){let t=++W;le=document.activeElement instanceof HTMLElement?document.activeElement:null;let n=Fe();if(!n)return;let r=mr(e);if(t===W){if(!r){n.hidden=!1,n.innerHTML='<div class="modalv2-loading">Film konnte nicht geladen werden.</div>',ue=null,ve=null,nt();return}ue=r,ve="movie",Jt(r)}}async function me(e){let t=++W;le=document.activeElement instanceof HTMLElement?document.activeElement:null;let n=wr(e),r=Fe();if(!r||t!==W)return;if(!n){r.hidden=!1,r.innerHTML='<div class="modalv2-loading">Seriendetails konnten nicht geladen werden.</div>',ue=null,ve=null,nt();return}ue=n,ve="show";let o=n;if(Kt(o)){if(yr(),t!==W)return;let a=null;try{a=await Nt(o)}catch{a=null}if(t!==W)return;a&&(zt(o,a),ue=o)}t===W&&Jt(o)}function rt(){if(W++,!!z){if(z.hidden=!0,z.setAttribute("aria-hidden","true"),document.body.classList.remove("modalv2-open"),Xn(),er(),F&&(F.innerHTML="",F.setAttribute("hidden","")),G&&(G.scrollTop=0),le&&typeof le.focus=="function")try{le.focus()}catch{}le=null,ue=null,ve=null}}function mr(e){if(e==="demo")return Be(Wn);if(e&&typeof e=="object")return Be(e);let t=e==null?"":String(e).trim();if(!t)return null;let n=v(),o=(Array.isArray(n==null?void 0:n.movies)?n.movies:[]).find(a=>Yt(a,t));return o?Be(o):null}function wr(e){if(e==="demo")return Le(Gn);if(e&&typeof e=="object")return Le(e);let t=e==null?"":String(e).trim();if(!t)return null;let n=v(),o=(Array.isArray(n==null?void 0:n.shows)?n.shows:[]).find(a=>Yt(a,t));return o?Le(o):null}function Yt(e,t){var r,o;if(!e)return!1;let n=String(t||"").trim();return n?!!((r=e==null?void 0:e.ids)!=null&&r.imdb&&String(e.ids.imdb)===n||(o=e==null?void 0:e.ids)!=null&&o.tmdb&&String(e.ids.tmdb)===n||(e==null?void 0:e.ratingKey)!=null&&String(e.ratingKey)===n):!1}var Vn,Un,z,N,G,F,le,re,de,W,ve,ue,Wn,Gn,ot=P(()=>{Ht();pe();V();ce();Ot();Vn="https://image.tmdb.org/t/p/",Un="w185",z=null,N=null,G=null,F=null,le=null,re=null,de=null,W=0,ve=null,ue=null,Wn={type:"movie",title:"Lumen: Der Aufbruch",tagline:"Eine cineastische Demo f\xFCr das neue Modal",overview:"Die Crew der Lumen wagt den Sprung in unerforschte Welten und enth\xFCllt dabei eine Energiequelle, die alles ver\xE4ndern k\xF6nnte. Zwischen Loyalit\xE4t, Intrigen und berauschenden Bildern entfaltet sich ein Abenteuer, das f\xFCr das Cinematic-Layout entworfen wurde.",summary:"Die Crew der Lumen entdeckt eine Energiequelle, die das Schicksal der Menschheit ver\xE4ndern k\xF6nnte.",runtimeMin:142,contentRating:"FSK 12",studio:"Aurora Pictures",rating:8.4,audienceRating:8,userRating:8.7,originallyAvailableAt:"2024-05-17",countries:[{tag:"Deutschland"},{tag:"Kanada"}],genres:[{tag:"Science-Fiction"},{tag:"Drama"},{tag:"Abenteuer"}],cast:[{name:"Mara Lenz",role:"Captain Alys Vega",tmdbProfile:"/3rxeQHiuCYaXJqfyUG8yt0YdHtH.jpg"},{name:"Tariq Benassi",role:"Navigator Elian Soh",tmdbProfile:"/wGl8DCycJ2U0FvJbLABd8R4FS3X.jpg"},{name:"Hannah Ko",role:"Wissenschaftlerin Dr. Mira Han",tmdbProfile:"/hJuDvwzS0SPlsE6MN4pF2UYDGtt.jpg"}],directors:[{tag:"Jonas Falk"}],writers:[{tag:"Lea Winter"}],producers:[{tag:"Studio Atlas"}],labels:[{tag:"Dolby Atmos"},{tag:"4K"}],collections:[{tag:"Aurora-Saga"}],trailer:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",tmdbPoster:"https://image.tmdb.org/t/p/w500/2lUYbD2C3XSuwqMUbDVDQuz9mqz.jpg",ids:{tmdb:"demo-lumen",imdb:"tt0000001"},addedAt:"2024-06-01T12:00:00Z"},Gn={type:"tv",title:"Aurora Station",tagline:"Neue Horizonte in Serie",overview:"Die Besatzung der Aurora Station sch\xFCtzt eine Au\xDFenposten an der Grenze des bekannten Raums. Jede Episode verbindet kosmische R\xE4tsel mit pers\xF6nlichen Geschichten \u2013 perfekt geeignet, um das Cinematic-Modal auszuprobieren.",summary:"Ein orbitaler Au\xDFenposten ringt um Hoffnung und Zusammenhalt, w\xE4hrend eine fremde Macht erwacht.",contentRating:"TV-14",studio:"Nebula Network",originallyAvailableAt:"2023-09-14",seasonCount:2,genres:[{tag:"Science-Fiction"},{tag:"Drama"}],countries:[{tag:"USA"},{tag:"Island"}],creators:[{tag:"Elina S\xF8rensen"}],cast:[{name:"Noah Adler",role:"Commander Ivar Hale",tmdbProfile:"/4MqUjb1SYrzHmFSVoKHSKP5MGGm.jpg"},{name:"Sofia Idris",role:"Ingenieurin Kaia Rhee",tmdbProfile:"/tHMgWz6EpRdbgoMJ2JfzFzjg3QB.jpg"},{name:"Helena Ruiz",role:"Strategin Tala Voss",tmdbProfile:"/ziEuG1ESSofxDCspotYlrwz3Tq.png"}],seasons:[{title:"Staffel 1",seasonNumber:1,year:2023,thumbFile:"https://image.tmdb.org/t/p/w300/4dO2YpC8S9nLmQAXoJLRV8LZRxn.jpg",episodes:[{title:"Kapitel Eins: Erwachen",seasonNumber:1,episodeNumber:1,durationMin:54,originallyAvailableAt:"2023-09-14",audienceRating:8.6},{title:"Kapitel Zwei: Grenzwelten",seasonNumber:1,episodeNumber:2,durationMin:52,originallyAvailableAt:"2023-09-21",audienceRating:8.2}]},{title:"Staffel 2",seasonNumber:2,year:2024,thumbFile:"https://image.tmdb.org/t/p/w300/bSL4hY8SgdKzac8AUbWQm74y87C.jpg",episodes:[{title:"Kapitel Dreizehn: Resonanz",seasonNumber:2,episodeNumber:1,durationMin:56,originallyAvailableAt:"2024-02-08",audienceRating:8.9},{title:"Kapitel Vierzehn: Echo",seasonNumber:2,episodeNumber:2,durationMin:55,originallyAvailableAt:"2024-02-15",audienceRating:8.7}]}],tmdbPoster:"https://image.tmdb.org/t/p/w500/a4I481szRmycyreQTLrRe4f4YJe.jpg",ids:{tmdb:"demo-aurora-station",imdb:"tt0000002"}}});var en={};De(en,{renderGrid:()=>M});function Er(e){let t=A("article","cardv2");t.style.contentVisibility="auto",t.dataset.kind=(e==null?void 0:e.type)==="tv"?"show":"movie",t.tabIndex=0,t.setAttribute("role","button"),e!=null&&e.title&&t.setAttribute("aria-label",e.title);let n=Nr(e),r=Qt(e,n,Mr(e)),o=A("div","cardv2__body"),a=document.createElement("h3");a.className="cardv2__title",a.textContent=(e==null?void 0:e.title)||"";let s=A("div","cardv2__meta"),i=Lr(e);s.textContent=i.join(" \u2022 ");let c=A("div","cardv2__tags"),l=ee(e==null?void 0:e.genres);Ve(c,l,3);let d=A("div","cardv2__actions"),u=document.createElement("button");return u.type="button",u.className="watch-btn btn",Zt(u,e),u.addEventListener("click",h=>{h.stopPropagation(),Ge(e),Zt(u,e)}),d.append(u),o.append(a,s,c,d),t.append(r,o),t.addEventListener("click",()=>Xt(e)),t.addEventListener("keydown",h=>{h.target===t&&(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),Xt(e))}),t}function Sr(e){return(e&&e.collections||[]).map(t=>t&&(t.tag||t.title||t.name||"")).filter(Boolean)}function Ar(e,t){let n=(t||[]).slice().sort((u,h)=>{let f=Number(q(u))||0,C=Number(q(h))||0;return f!==C?f-C:(u.title||"").localeCompare(h.title||"","de")}),r=n.map(u=>Number(q(u))||0).filter(Boolean),o=r.length?Math.min(...r):"",a=n.map(u=>new Date(u.addedAt||0).getTime()).filter(Number.isFinite),s=a.length?new Date(Math.max(...a)).toISOString():null,i=n.map(u=>{var h;return Number((h=u.rating)!=null?h:u.audienceRating)}).filter(Number.isFinite),c=i.length?i.reduce((u,h)=>u+h,0)/i.length:null,l=n.find(u=>u.thumbFile)||n[0]||null,d=Array.from(new Set(n.flatMap(u=>ee(u.genres)))).slice(0,4);return{isCollectionGroup:!0,type:"collection",title:e,collectionName:e,items:n,itemCount:n.length,year:o||"",addedAt:s,rating:c,posterItem:l,genres:d}}function kr(e){let t=document.getElementById("groupCollections"),n=document.getElementById("collectionFilter"),r=n&&n.value;if(!t||!t.checked||r)return e;let o=new Map;e.forEach(s=>{Sr(s).forEach(i=>{o.has(i)||o.set(i,[]),o.get(i).push(s)})});let a=[];return o.forEach((s,i)=>{a.push(Ar(i,s))}),a.sort((s,i)=>s.title.localeCompare(i.title,"de")),a}function Cr(e){let t=A("article","cardv2 collection");t.style.contentVisibility="auto",t.dataset.kind="collection",t.tabIndex=0,t.setAttribute("role","button"),e!=null&&e.title&&t.setAttribute("aria-label",e.title);let n=e.posterItem||{},r=Qt(n,Br(e),0,e.title||""),o=A("div","cardv2__body"),a=document.createElement("h3");a.className="cardv2__title",a.textContent=e.title||"";let s=A("div","cardv2__meta"),i=[e.year,`${e.itemCount} Titel`];Number.isFinite(e.rating)&&i.push(`\u2605 ${_(e.rating)}`),s.textContent=i.filter(Boolean).join(" \u2022 ");let c=A("div","cardv2__tags");return Ve(c,e.genres||[],3),o.append(a,s,c),t.append(r,o),t.addEventListener("click",()=>{let l=document.getElementById("collectionFilter");l&&(l.value=e.collectionName||e.title||"",l.dispatchEvent(new Event("change",{bubbles:!0})))}),t.addEventListener("keydown",l=>{if(l.target===t&&(l.key==="Enter"||l.key===" ")){l.preventDefault();let d=document.getElementById("collectionFilter");d&&(d.value=e.collectionName||e.title||"",d.dispatchEvent(new Event("change",{bubbles:!0})))}}),t}function M(e){let{movies:t,shows:n,filtered:r}=v(),o=(e==="shows"?n:t)||[],a=Array.isArray(r)?r:o,s=kr(a),i=document.getElementById("grid");if(!i)return;xr(i);let c=document.createDocumentFragment();s.forEach(d=>c.append(d.isCollectionGroup?Cr(d):Er(d))),i.replaceChildren(c),Tr(i);let l=document.getElementById("empty");l&&(l.hidden=s.length>0)}function xr(e){e&&(e.classList.remove("is-entering","is-ready"),e.classList.add("is-leaving"))}function Tr(e){e&&(e.classList.remove("is-leaving"),e.classList.add("is-entering"),requestAnimationFrame(()=>{e.classList.add("is-ready"),setTimeout(()=>e.classList.remove("is-entering","is-ready"),240)}))}function Qt(e,t=[],n=0,r=""){let o=A("div","cardv2__thumb"),a=new Image;a.loading="lazy",a.decoding="async",a.alt=r||(e==null?void 0:e.title)||"";let s=Ir(e);if(s&&(a.src=s),o.append(a),Array.isArray(t)&&t.length){let l=A("div","cardv2__badge-group");t.forEach(d=>{d instanceof HTMLElement&&l.append(d)}),l.childElementCount&&o.append(l)}let i=document.createElement("div");i.className="cardv2__thumb-overlay",i.setAttribute("aria-hidden","true"),o.append(i);let c=Number(n)||0;if(c>0){let l=A("div","cardv2__progress"),d=document.createElement("span");d.style.width=`${Math.max(0,Math.min(100,c))}%`,l.append(d),o.append(l)}return o}function Ir(e){var r;if(!e)return"";let t=te()&&(((r=e==null?void 0:e.tmdb)==null?void 0:r.poster)||(e==null?void 0:e.tmdbPoster)),n=(e==null?void 0:e.thumbFile)||(e==null?void 0:e.poster)||(e==null?void 0:e.art)||(e==null?void 0:e.thumb)||"";return t||n||""}function Nr(e){var o;let t=[];Ne(e)&&t.push(we("Neu"));let n=String((e==null?void 0:e.contentRating)||"").trim();n&&t.push(we(n));let r=Number((o=e==null?void 0:e.rating)!=null?o:e==null?void 0:e.audienceRating);return Number.isFinite(r)&&t.push(we(`\u2605 ${_(r)}`)),t.slice(0,3)}function Br(e){let t=[];return Number.isFinite(e==null?void 0:e.itemCount)&&e.itemCount>0&&t.push(we(`${e.itemCount} Titel`)),e!=null&&e.year&&t.push(we(String(e.year))),t}function we(e){let t=document.createElement("span");return t.className="badge",t.textContent=String(e||""),t}function Zt(e,t){if(!e)return;let n=_t(t);e.textContent=n?"Gemerkt":"Merken",e.classList.toggle("active",n),e.setAttribute("aria-pressed",n?"true":"false")}function Lr(e){var s;let t=[],n=q(e);n&&t.push(String(n));let r=Fr(e);r&&t.push(r);let o=Number((s=e==null?void 0:e.rating)!=null?s:e==null?void 0:e.audienceRating);Number.isFinite(o)&&t.push(`\u2605 ${_(o)}`);let a=(e==null?void 0:e.studio)||(e==null?void 0:e.network)||"";return a&&t.push(a),t}function Fr(e){var r,o;let t=(o=(r=e==null?void 0:e.runtimeMin)!=null?r:e==null?void 0:e.durationMin)!=null?o:e!=null&&e.duration?Math.round(Number(e.duration)/6e4):null,n=Number(t);return!Number.isFinite(n)||n<=0?"":(e==null?void 0:e.type)==="tv"?`~${n} min/Ep`:`${n} min`}function Mr(e){var r;let t=Number((r=e==null?void 0:e.viewOffset)!=null?r:e==null?void 0:e.viewoffset),n=Number(e==null?void 0:e.duration);return!Number.isFinite(t)||!Number.isFinite(n)||n<=0?0:Math.max(1,Math.min(100,Math.round(t/n*100)))}function Pr(e){var n,r;if(!e)return"";let t=((n=e==null?void 0:e.ids)==null?void 0:n.imdb)||((r=e==null?void 0:e.ids)==null?void 0:r.tmdb);return t?String(t):e!=null&&e.ratingKey?String(e.ratingKey):""}function $r(e,t){if(!e||!t)return;let n=`#/${e}/${t}`;try{if(history&&typeof history.pushState=="function"){location.hash===n&&typeof history.replaceState=="function"?history.replaceState(null,"",n):history.pushState(null,"",n);return}}catch{}try{window.__skipNextHashNavigation=!0}catch{}location.hash=n}function Xt(e){if(!e)return;let t=(e==null?void 0:e.type)==="tv"?"show":"movie",n=Pr(e);n&&$r(t,n),t==="show"?me(e):ye(e)}var at=P(()=>{V();Me();Ce();pe();Ze();ot()});var ft={};De(ft,{applyFilters:()=>fe,computeFacets:()=>lt,initFilters:()=>ut,renderFacets:()=>dt,updateFiltersAndGrid:()=>Se});function Ee(e){return e.year?e.year:e.originallyAvailableAt?String(e.originallyAvailableAt).slice(0,4):""}function it(e){return(e&&e.collections||[]).map(t=>t&&(t.tag||t.title||t.name||"")).filter(Boolean)}function _r(e){if(!(e!=null&&e.addedAt))return!1;let t=new Date(e.addedAt).getTime();if(!Number.isFinite(t))return!1;let n=v().cfg||{},r=Number(n.newDays||30);return Date.now()-t<=r*24*60*60*1e3}function tn(e){return String(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function jr(e,t){let n=tn(t.query||""),r=!!t.onlyNew,o=Number(t.yearFrom)||null,a=Number(t.yearTo)||null,s=t.genres||new Set,i=t.collection||"";if(n&&!tn([e.title,e.originalTitle,e.summary,e.studio,ee(e.genres).join(" "),(e.roles||[]).map(d=>d&&(d.tag||d.role||d.name)).join(" "),it(e).join(" ")].filter(Boolean).join(" ")).includes(n)||r&&!_r(e))return!1;let c=Number(Ee(e))||null;if(o&&(!c||c<o)||a&&(!c||c>a))return!1;if(s.size){let l=new Set(ee(e.genres));for(let d of s)if(!l.has(d))return!1}return!(i&&!new Set(it(e)).has(i))}function Dr(e,t){let n=e.slice();switch(t){case"year-desc":n.sort((r,o)=>(Number(Ee(o))||0)-(Number(Ee(r))||0)||String(r.title||"").localeCompare(String(o.title||""),"de"));break;case"year-asc":n.sort((r,o)=>(Number(Ee(r))||0)-(Number(Ee(o))||0)||String(r.title||"").localeCompare(String(o.title||""),"de"));break;case"title-desc":n.sort((r,o)=>String(o.title||"").localeCompare(String(r.title||""),"de"));break;case"added-desc":n.sort((r,o)=>new Date(o.addedAt||0)-new Date(r.addedAt||0));break;case"title-asc":default:n.sort((r,o)=>String(r.title||"").localeCompare(String(o.title||""),"de"))}return n}function lt(e,t){let n=new Set,r=new Set,o=new Set,a=i=>(i||[]).forEach(c=>{ee(c.genres).forEach(d=>n.add(d));let l=c.year||(c.originallyAvailableAt?String(c.originallyAvailableAt).slice(0,4):"");l&&r.add(Number(l)),it(c).forEach(d=>o.add(d))});a(e),a(t);let s=[...r].sort((i,c)=>i-c);return{genres:[...n].sort(),years:s,collections:[...o].sort((i,c)=>i.localeCompare(c,"de"))}}function dt(e){let t=k("#yearFrom"),n=k("#yearTo");t&&t.replaceChildren(new Option("Ab Jahr",""),...e.years.map(a=>new Option(String(a),String(a)))),n&&n.replaceChildren(new Option("Bis Jahr",""),...e.years.map(a=>new Option(String(a),String(a))));let r=k("#collectionFilter");r&&r.replaceChildren(new Option("Alle Collections",""),...e.collections.map(a=>new Option(a,a)));let o=k("#genreFilters");if(o){let a=e.genres.map(s=>{let i=document.createElement("button");return i.type="button",i.className="chip",i.textContent=s,i.dataset.name=s,i});o.replaceChildren(...a),ct()}}function Rr(){var c,l,d,u,h;let e=document.getElementById("search")||document.getElementById("q"),t=((e==null?void 0:e.value)||"").trim(),n=((c=k("#onlyNew"))==null?void 0:c.checked)||!1,r=((l=k("#yearFrom"))==null?void 0:l.value)||"",o=((d=k("#yearTo"))==null?void 0:d.value)||"",a=((u=k("#collectionFilter"))==null?void 0:u.value)||"",s=((h=k("#sort"))==null?void 0:h.value)||"title-asc",i=new Set;return document.querySelectorAll("#genreFilters .chip.active").forEach(f=>i.add(f.dataset.name)),{query:t,onlyNew:n,yearFrom:r,yearTo:o,collection:a,genres:i,sort:s}}function fe(){let e=v(),n=e.view==="shows"?e.shows:e.movies,r=Rr(),o=(n||[]).filter(s=>jr(s,r)),a=Dr(o,r.sort);return X({filtered:a}),a}function qr(){st||(st=Promise.resolve().then(()=>(at(),en))),st.then(e=>{let t=e&&e.renderGrid;typeof t=="function"&&t(v().view)}).catch(console.error)}function Se(){let e=fe();return qr(),Hr(e),e}function Hr(e){try{let n={items:Array.isArray(e)?e.slice():[],view:v().view};window.dispatchEvent(new CustomEvent("filters:updated",{detail:n}))}catch{}}function ct(){let e=document.getElementById("genreFilters");if(!e)return;let t=e.querySelectorAll(".chip.active").length;e.dataset.state=t>0?"active":"empty",e.dataset.count=String(t)}function ut(){let e=k("#sort");e&&e.options.length===0&&[["title-asc","Titel A\u2013Z"],["title-desc","Titel Z\u2013A"],["year-desc","Jahr \u2193"],["year-asc","Jahr \u2191"],["added-desc","Zuletzt hinzugef\xFCgt"]].forEach(([o,a])=>e.add(new Option(a,o)));let t=(o,a="input")=>{let s=k(o);s&&(s.addEventListener(a,()=>{Se()}),a==="input"&&s instanceof HTMLInputElement&&s.type==="search"&&s.addEventListener("search",()=>{Se()}))};t("#search"),t("#q"),t("#onlyNew","change"),t("#yearFrom","change"),t("#yearTo","change"),t("#collectionFilter","change"),t("#sort","change"),t("#groupCollections","change");let n=k("#yearReset");n&&n.addEventListener("click",()=>{let o=k("#yearFrom"),a=k("#yearTo");o&&(o.value=""),a&&(a.value=""),Se()});let r=k("#genreFilters");r&&(r.addEventListener("click",o=>{let a=o.target;a instanceof HTMLElement&&a.classList.contains("chip")&&(a.classList.toggle("active"),ct(),Se())}),ct())}var st,Me=P(()=>{V();Ce();pe();st=null});var he={};De(he,{clearCache:()=>Or,hydrateOptional:()=>pt,validateToken:()=>Zr});function Kr(){try{return new Map(JSON.parse(localStorage.getItem("tmdbCache")||"[]"))}catch{return new Map}}function zr(){try{localStorage.setItem("tmdbCache",JSON.stringify(Array.from(oe.entries())))}catch{}}function Or(){try{localStorage.removeItem("tmdbCache"),oe=new Map}catch{}}function Vr(e){try{let t=localStorage.getItem("tmdbToken");if(t)return{kind:"bearer",value:t}}catch{}return e!=null&&e.tmdbApiKey?{kind:"apikey",value:String(e.tmdbApiKey)}:{kind:"none",value:""}}function Ur(e){var s,i;let t=e.type==="tv"?"tv":"movie",n=((s=e==null?void 0:e.ids)==null?void 0:s.imdb)||"",r=((i=e==null?void 0:e.ids)==null?void 0:i.tmdb)||"",o=(e.title||"").toLowerCase(),a=String(e.year||"").slice(0,4);return[t,n,r,o,a].filter(Boolean).join("|")}function gt(e,t){if(!t||t.kind==="none")return{url:e,init:{}};if(t.kind==="bearer")return{url:e,init:{headers:{Authorization:`Bearer ${t.value}`,Accept:"application/json"}}};let n=e.includes("?")?"&":"?";return{url:`${e}${n}api_key=${encodeURIComponent(t.value)}`,init:{headers:{Accept:"application/json"}}}}async function $e(e,t){let{url:n,init:r}=gt(e,t),o=await fetch(n,r);if(!o.ok)throw new Error("HTTP "+o.status);return o.json()}function Wr(e){return e!=null&&e.file_path?Pe+nn+e.file_path:""}function Gr(e){return e!=null&&e.file_path?Pe+rn+e.file_path:""}async function ht(e,t,n,r){let o=await $e(`${ge}/${e}/${t}?language=${encodeURIComponent(n||"de-DE")}`,r),a=await $e(`${ge}/${e}/${t}/images`,r).catch(()=>({posters:[],backdrops:[]})),s=Wr((a.posters||[])[0])||(o.poster_path?Pe+nn+o.poster_path:""),i=Gr((a.backdrops||[])[0])||(o.backdrop_path?Pe+rn+o.backdrop_path:"");return{id:o.id,poster:s,backdrop:i,url:`https://www.themoviedb.org/${e}/${o.id}`}}async function Jr(e,t,n,r,o){let a=encodeURIComponent(t||""),s=n?`&year=${encodeURIComponent(String(n))}`:"",c=((await $e(`${ge}/search/${e}?query=${a}${s}&language=${encodeURIComponent(r||"de-DE")}`,o)).results||[])[0];if(!c)throw new Error("not found");return ht(e,c.id,r,o)}async function Yr(e,t,n){var s,i;let r=e.type==="tv"?"tv":"movie",o=Ur(e);if(oe.has(o))return oe.get(o);let a;try{if((s=e==null?void 0:e.ids)!=null&&s.tmdb)a=await ht(r,e.ids.tmdb,t.lang,n);else if((i=e==null?void 0:e.ids)!=null&&i.imdb){let c=await $e(`${ge}/find/${e.ids.imdb}?external_source=imdb_id&language=${encodeURIComponent(t.lang||"de-DE")}`,n),l=r==="movie"?(c.movie_results||[])[0]:(c.tv_results||[])[0];if(l)a=await ht(r,l.id,t.lang,n);else throw new Error("not found")}else a=await Jr(r,e.title,e.year,t.lang,n)}catch{a=null}return oe.set(o,a),zr(),a}async function pt(e,t,n={}){try{oe=oe||Kr();let r=Vr(n);if(!r.value)return;let o=(e||[]).concat(t||[]),a=0,s=40,i=async()=>{let c=o.slice(a,a+4);a+=4,await Promise.all(c.map(async l=>{let d=await Yr(l,n,r);d&&(l.tmdb={id:d.id,poster:d.poster,backdrop:d.backdrop,url:d.url},l.ids=l.ids||{},!l.ids.tmdb&&d.id&&(l.ids.tmdb=String(d.id)))}));try{window.dispatchEvent(new CustomEvent("tmdb:chunk",{detail:{updated:c.length,index:a}}))}catch{}if(a<Math.min(o.length,s))(window.requestIdleCallback||setTimeout)(i,250);else try{window.dispatchEvent(new CustomEvent("tmdb:done",{detail:{total:Math.min(o.length,s)}}))}catch{}};i()}catch{}}async function Zr(e){let t=String(e||"").trim();if(!t)throw new Error("empty");let n=/^[a-f0-9]{32}$/i.test(t),r=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+$/.test(t),o=a=>{try{let s=a.split(".")[1],c=atob((l=>l+"=".repeat((4-l.length%4)%4))(s.replace(/-/g,"+").replace(/_/g,"/")));return JSON.parse(c)}catch{return null}};if(n){let{url:a,init:s}=gt(`${ge}/configuration`,{kind:"apikey",value:t});return(await fetch(a,s)).ok?{ok:!0,as:"apikey",hint:"v3Key"}:{ok:!1,as:"apikey",hint:"looksV3"}}if(r){let a=o(t);if(a&&typeof a=="object"){let c=String(a.iss||"");if(c&&!/themoviedb\.org/i.test(c))return{ok:!1,as:"bearer",hint:"issMismatch"}}let{url:s,init:i}=gt(`${ge}/trending/movie/day`,{kind:"bearer",value:t});try{if((await fetch(s,i)).ok)return{ok:!0,as:"bearer",hint:null}}catch{}return{ok:!0,as:"bearer",hint:"structOnly"}}return{ok:!1,as:"bearer",hint:null}}var ge,Pe,nn,rn,oe,ae=P(()=>{ge="https://api.themoviedb.org/3",Pe="https://image.tmdb.org/t/p/",nn="w342",rn="w780"});V();Ce();var R,xe,Te,U;function qe(){if(!R&&(R=k("#loaderOverlay"),!R)){R=A("div","loader-overlay"),R.id="loaderOverlay",R.hidden=!0;let e=A("div","loader");Te=A("div","msg",""),xe=A("div","bar"),e.append(Te,xe),R.append(e),document.body.append(R)}}function yt(){qe(),R.hidden=!1}function se(e,t){qe(),Te&&(Te.textContent=e||""),xe&&(xe.style.width=(t||0)+"%")}function He(){qe(),R.hidden=!0}function mt(e=18){let t=k("#grid");if(t){U=A("div","skeleton");for(let n=0;n<e;n++)U.append(A("div","skel"));t.replaceChildren(U)}}function wt(){U&&U.parentElement&&U.parentElement.removeChild(U),U=null}ce();Me();at();ot();ae();Ze();V();ce();function an(){let e=document.getElementById("openDebug");e&&e.addEventListener("click",()=>{Xr()})}function Xr(){var t,n;let e=document.getElementById("debugOverlay");e||(e=document.createElement("div"),e.id="debugOverlay",e.className="debug-overlay",e.innerHTML=`
      <div class="debug-dialog">
        <div class="debug-header"><h2>Debug</h2></div>
        <div class="debug-body"><pre id="debugPre" class="debug-pre"></pre></div>
        <div class="debug-actions">
          <button id="debugCopy" class="btn">Copy report</button>
          <button id="debugClose" class="btn">Schlie\xDFen</button>
        </div>
      </div>`,document.body.append(e)),e.hidden=!1,Qr(),e.addEventListener("click",r=>{r.target===e&&on()}),(t=document.getElementById("debugClose"))==null||t.addEventListener("click",on,{once:!0}),(n=document.getElementById("debugCopy"))==null||n.addEventListener("click",eo,{once:!0})}function on(){let e=document.getElementById("debugOverlay");e&&(e.hidden=!0)}function Qr(){let e=document.getElementById("debugPre");if(!e)return;let t=v(),n=Bt(),r=t.cfg||{},o={view:t.view,counts:{movies:(t.movies||[]).length,shows:(t.shows||[]).length,filtered:(t.filtered||[]).length},dataSources:n,tmdb:{enabled:!!r.tmdbEnabled,lang:r.lang,tokenPresent:!!(localStorage.getItem("tmdbToken")||r.tmdbApiKey)},useTmdbImages:localStorage.getItem("useTmdb")==="1",reduceMotion:localStorage.getItem("prefReduceMotion")==="1",locationHash:location.hash,userAgent:navigator.userAgent};e.textContent=JSON.stringify(o,null,2)}function eo(){var n;let e=document.getElementById("debugPre");if(!e)return;let t=e.textContent||"";(n=navigator.clipboard)==null||n.writeText(t).catch(()=>{try{let r=document.createElement("textarea");r.value=t,document.body.append(r),r.select(),document.execCommand("copy"),r.remove()}catch{}})}pe();var ke=null,O=null;function Ae(e,t=!0){let n=document.getElementById("footerMeta");if(n){let o=n.querySelector("#footerStatus");o?o.textContent=e:n.textContent=e,n.dataset.state=t?"loading":"ready"}let r=document.getElementById("grid");r&&r.setAttribute("aria-busy",t?"true":"false")}async function no(){mo(),yt(),Ae("Initialisiere \u2026",!0),se("Initialisiere \u2026",8),mt(18);let e=await fetch("config.json").then(a=>a.json()).catch(()=>({startView:"movies",tmdbEnabled:!1}));X({cfg:e,view:e.startView||"movies"}),Ae("Filme laden \u2026",!0),se("Filme laden \u2026",25);let t=await Tt();Ae("Serien laden \u2026",!0),se("Serien laden \u2026",45);let n=await It();Ae("Filter vorbereiten \u2026",!0),se("Filter vorbereiten \u2026",60);let r=lt(t,n);X({movies:t,shows:n,facets:r}),Ae("Ansicht aufbauen \u2026",!0),se("Ansicht aufbauen \u2026",85),wt(),bt(),dt(r),ut(),fe(),ro(!0),M(v().view),oo(),He(),e.tmdbEnabled&&(window.requestIdleCallback||setTimeout)(()=>{var a;return(a=pt)==null?void 0:a(t,n,e)},400),Dt(),yo(e),wo(),Eo(),So(),Ao(),J(),an();let o;window.addEventListener("tmdb:chunk",()=>{o||(o=requestAnimationFrame(()=>{o=null;try{localStorage.getItem("useTmdb")==="1"&&(M(v().view),J())}catch{}}))}),window.addEventListener("tmdb:done",()=>{try{localStorage.getItem("useTmdb")==="1"&&(M(v().view),J())}catch{}})}window.addEventListener("hashchange",()=>{if(window.__skipNextHashNavigation){try{window.__skipNextHashNavigation=!1}catch{}return}let e=location.hash||"";if(/^#\/(movies|shows)$/.test(e)){let s=e.includes("shows")?"shows":"movies";X({view:s});let i=fe();bt(),M(s),J(i);return}let t=e.match(/^#\/(movie|show)\/(.+)/);if(!t)return;let[,n,r]=t,a=((n==="movie"?v().movies:v().shows)||[]).find(s=>{var i,c;return((i=s==null?void 0:s.ids)==null?void 0:i.imdb)===r||((c=s==null?void 0:s.ids)==null?void 0:c.tmdb)===r||String(s==null?void 0:s.ratingKey)===r});a&&(n==="show"?me(a):ye(a))});function bt(){let e=document.getElementById("libraryTabs");if(!e)return;let t=Array.from(e.querySelectorAll("[data-lib]")),n=v().view==="shows"?"shows":"movies";t.forEach(r=>{let o=r.dataset.lib==="series"?"shows":"movies",a=n===o;r.classList.toggle("is-active",a),r.setAttribute("aria-pressed",a?"true":"false"),r.dataset.bound!=="true"&&(r.addEventListener("click",()=>{let s=r.dataset.lib==="series"?"shows":"movies";if(v().view===s)return;X({view:s});try{window.__skipNextHashNavigation=!0}catch{}location.hash=s==="movies"?"#/movies":"#/shows",bt();let i=fe();M(s),J(i)}),r.dataset.bound="true")})}function ro(e=!1){let t=document.getElementById("heroStats");if(!t)return;let n=v(),r=(n.movies||[]).length,o=(n.shows||[]).length,a=t.querySelector('[data-stat="movies"]'),s=t.querySelector('[data-stat="shows"]');!a||!s||(e?(sn(a,r),sn(s,o)):(a.textContent=String(r),s.textContent=String(o)))}function sn(e,t){if(!e)return;let n=Number(e.textContent)||0,r=Number(t)||0;if(n===r){e.textContent=String(r);return}let o=480,a=performance.now();function s(i){let c=Math.min(1,(i-a)/o),l=Math.round(n+(r-n)*(c<.5?2*c*c:-1+(4-2*c)*c));e.textContent=String(l),c<1?requestAnimationFrame(s):e.textContent=String(r)}requestAnimationFrame(s)}function oo(){let e=document.getElementById("footerMeta");if(!e)return;let t=document.getElementById("footerStatus"),n=v(),r=n.movies||[],o=n.shows||[],a=r.concat(o).map(l=>new Date(l.addedAt||0).getTime()).filter(Number.isFinite),i=(a.length?new Date(Math.max(...a)):new Date).toISOString().slice(0,10);t&&(t.textContent=`Stand: ${i}`),e.dataset.state="ready";let c=document.getElementById("grid");c&&c.setAttribute("aria-busy","false")}function J(e){let t=document.getElementById("hero"),n=document.getElementById("heroTitle"),r=document.getElementById("heroSubtitle"),o=document.getElementById("heroCta");if(!t||!n||!r||!o)return;ao();let a=so(e);if(!a){ke=null,n.textContent=O.title,r.textContent=O.subtitle,r.dataset.taglinePaused="0",delete r.dataset.heroBound,r.classList.remove("is-fading"),o.textContent=O.cta,o.disabled=!0,o.setAttribute("aria-disabled","true"),o.removeAttribute("aria-label"),o.onclick=null,t.style.backgroundImage="",t.classList.remove("has-poster"),t.dataset.heroKind="",t.dataset.heroId="";return}ke=a;let s=a.type==="tv"?"show":"movie",i=ho(a);n.textContent=a.title||O.title,r.textContent=co(a),r.dataset.taglinePaused="1",r.dataset.heroBound="1",r.classList.remove("is-fading");let c=s==="show"?"Serien-Details \xF6ffnen":"Film-Details \xF6ffnen";o.textContent=c,o.disabled=!1,o.setAttribute("aria-disabled","false"),o.setAttribute("aria-label",a.title?`${c}: ${a.title}`:c),o.onclick=()=>po(a,s,i),t.dataset.heroKind=s,t.dataset.heroId=i||"";let l=vo(a);l?(t.style.backgroundImage=`url(${l})`,t.classList.add("has-poster")):(t.style.backgroundImage="",t.classList.remove("has-poster"))}function ao(){var e,t,n;O||(O={title:((e=document.getElementById("heroTitle"))==null?void 0:e.textContent)||"",subtitle:((t=document.getElementById("heroSubtitle"))==null?void 0:t.textContent)||"",cta:((n=document.getElementById("heroCta"))==null?void 0:n.textContent)||""})}function so(e){if(Array.isArray(e)){let r=e.filter(ln);return r.length?cn(r):null}let n=io().filter(ln);return n.length?cn(n):null}function cn(e){if(e.length===1)return e[0];let t=Math.floor(Math.random()*e.length),n=e[t];return ke&&e.length>1&&n===ke&&e.find(o=>o!==ke)||n}function io(){let e=v(),t=e.view==="shows"?"shows":"movies",r=(Array.isArray(e.filtered)&&e.filtered.length?e.filtered:null)||(t==="shows"?e.shows:e.movies)||[];return Array.isArray(r)?r:[]}function ln(e){return!!e&&typeof e=="object"&&!e.isCollectionGroup&&e.type!=="collection"}function co(e){var i;let t=[],n=q(e);n&&t.push(String(n));let r=lo(e);r&&t.push(r);let o=Number((i=e==null?void 0:e.rating)!=null?i:e==null?void 0:e.audienceRating);Number.isFinite(o)&&t.push(`\u2605 ${_(o)}`);let a=uo(e,2);a.length&&t.push(a.join(", "));let s=fo(e);return s?t.length?`${t.join(" \u2022 ")} \u2014 ${s}`:s:t.length?t.join(" \u2022 "):(O==null?void 0:O.subtitle)||""}function lo(e){var r,o;let t=(o=(r=e==null?void 0:e.runtimeMin)!=null?r:e==null?void 0:e.durationMin)!=null?o:e!=null&&e.duration?Math.round(Number(e.duration)/6e4):null,n=Number(t);return!Number.isFinite(n)||n<=0?"":(e==null?void 0:e.type)==="tv"?`~${n} min/Ep`:`${n} min`}function uo(e,t=3){let n=Array.isArray(e==null?void 0:e.genres)?e.genres:[],r=[];return n.forEach(a=>{if(!a)return;if(typeof a=="string"){r.push(a);return}let s=a.tag||a.title||a.name||a.label||"";s&&r.push(s)}),Array.from(new Set(r)).slice(0,Math.max(0,t))}function fo(e){let t=[e==null?void 0:e.tagline,e==null?void 0:e.summary,e==null?void 0:e.plot,e==null?void 0:e.overview];for(let n of t){if(typeof n!="string")continue;let r=n.trim();if(r)return go(r,220)}return""}function go(e,t){let n=String(e||"").trim();return n?n.length<=t?n:`${n.slice(0,Math.max(0,t-1)).trimEnd()}\u2026`:""}function ho(e){var t,n;return e?(t=e==null?void 0:e.ids)!=null&&t.imdb?String(e.ids.imdb):(n=e==null?void 0:e.ids)!=null&&n.tmdb?String(e.ids.tmdb):(e==null?void 0:e.ratingKey)!=null?String(e.ratingKey):"":""}function po(e,t,n){n&&bo(t,n),t==="show"?me(e):ye(e)}function bo(e,t){if(!e||!t)return;let n=`#/${e}/${t}`;try{if(history&&typeof history.pushState=="function"){location.hash===n&&typeof history.replaceState=="function"?history.replaceState(null,"",n):history.pushState(null,"",n);return}}catch{}try{window.__skipNextHashNavigation=!0}catch{}location.hash=n}function vo(e){var a,s,i,c,l;if(!e)return"";let t=te(),n=[(a=e==null?void 0:e.tmdb)==null?void 0:a.backdrop,(s=e==null?void 0:e.tmdb)==null?void 0:s.backdrop_path,(i=e==null?void 0:e.tmdb)==null?void 0:i.backdropPath,(c=e==null?void 0:e.tmdb)==null?void 0:c.background,(l=e==null?void 0:e.tmdb)==null?void 0:l.art],r=[e==null?void 0:e.art,e==null?void 0:e.background,e==null?void 0:e.thumbBackground,e==null?void 0:e.coverArt,e==null?void 0:e.thumb,e==null?void 0:e.thumbFile];if(t){let d=n.find(dn);if(d)return d}return r.find(dn)||""}function dn(e){return typeof e=="string"&&e.trim().length>0}window.addEventListener("filters:updated",e=>{let t=e==null?void 0:e.detail,n=Array.isArray(t==null?void 0:t.items)?t.items:null;J(n)});no();window.addEventListener("load",()=>{try{He()}catch{}});function yo(e){let t=document.getElementById("settingsOverlay"),n=t==null?void 0:t.querySelector(".settings-dialog"),r=document.getElementById("settingsBtn"),o=document.getElementById("openSettings"),a=document.getElementById("settingsClose2"),s=document.getElementById("tmdbTokenInput"),i=document.getElementById("tmdbSave"),c=document.getElementById("tmdbTest"),l=document.getElementById("tmdbStatus"),d=document.getElementById("tmdbClearCache"),u=document.getElementById("tmdbStatusBadge"),h=document.getElementById("prefReduceMotion"),f=document.getElementById("useTmdbSetting"),C=document.getElementById("resetFilters");t&&t.hidden&&t.setAttribute("aria-hidden","true");let w=null,T="",j=!1,D=new Map,Y='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';function Z(){return t?Array.from(t.querySelectorAll(Y)).filter(g=>!g.hasAttribute("disabled")&&g.getAttribute("aria-hidden")!=="true"):[]}function E(){n&&typeof n.focus=="function"?n.focus({preventScroll:!0}):t&&typeof t.focus=="function"&&t.focus({preventScroll:!0})}function x(g){if(!t)return;let m=Array.from(document.body.children).filter(p=>p!==t);g?m.forEach(p=>{D.has(p)||D.set(p,{ariaHidden:p.hasAttribute("aria-hidden")?p.getAttribute("aria-hidden"):null,inert:p.hasAttribute("inert")}),p.setAttribute("aria-hidden","true"),p.setAttribute("inert","")}):(m.forEach(p=>{let b=D.get(p);b?(b.ariaHidden===null||b.ariaHidden===void 0?p.removeAttribute("aria-hidden"):p.setAttribute("aria-hidden",b.ariaHidden),b.inert?p.setAttribute("inert",""):p.removeAttribute("inert"),D.delete(p)):(p.removeAttribute("aria-hidden"),p.removeAttribute("inert"))}),D.clear())}function S(){!t||j||(j=!0,t.hidden=!1,t.setAttribute("aria-hidden","false"),w=document.activeElement instanceof HTMLElement?document.activeElement:null,T=document.body.style.overflow,document.body.style.overflow="hidden",x(!0),un(),requestAnimationFrame(E))}function L(){!t||!j||(j=!1,t.hidden=!0,t.setAttribute("aria-hidden","true"),x(!1),document.body.style.overflow=T,w&&typeof w.focus=="function"&&w.focus(),w=null)}function B(g){if(!j)return;if(g.key==="Escape"){g.preventDefault(),L();return}if(g.key!=="Tab")return;let m=Z();if(!m.length){g.preventDefault(),E();return}let p=m[0],b=m[m.length-1],K=document.activeElement;g.shiftKey?(K===p||!t.contains(K))&&(g.preventDefault(),b.focus()):K===b&&(g.preventDefault(),p.focus())}r&&r.addEventListener("click",S),o&&o.addEventListener("click",()=>{S()}),a&&a.addEventListener("click",L),t&&t.addEventListener("click",g=>{g.target===t&&L()}),t&&t.addEventListener("keydown",B);function y(g="",m=""){if(l){l.textContent=g,l.dataset.kind=m,u&&(u.dataset.kind=m||"",u.title=g||"");try{if(m==="error"&&e&&e.tmdbApiKey){let p=String(localStorage.getItem("tmdbToken")||"").trim(),b=String((s==null?void 0:s.value)||"").trim();if(p&&b){try{localStorage.removeItem("tmdbToken")}catch{}s&&(s.value=""),I(!0);let K="Ung\xFCltiger Token entfernt. Verwende API Key aus config.json.";l.textContent=K,l.dataset.kind="info",u&&(u.dataset.kind="info",u.title=K)}}}catch{}}}function I(g){if(f&&(f.disabled=!g,f.title=f.disabled?"Nur verf\xFCgbar mit g\xFCltigem Token oder API Key.":"",!g&&f.checked)){try{localStorage.setItem("useTmdb","0")}catch{}f.checked=!1,M(v().view)}}function un(){let g="";try{s&&(s.value=g=localStorage.getItem("tmdbToken")||"")}catch{}try{h&&(h.checked=localStorage.getItem("prefReduceMotion")==="1")}catch{}try{f&&(f.checked=localStorage.getItem("useTmdb")==="1",f.disabled=!g,f.title=f.disabled?"Nur verf\xFCgbar mit g\xFCltigem Token.":"")}catch{}try{I(!!g||!!(e&&e.tmdbApiKey))}catch{}y("",""),g||y("Kein Token hinterlegt. TMDB ist deaktiviert.","info"),e!=null&&e.tmdbEnabled||y("Hinweis: TMDB in config.json deaktiviert (tmdbEnabled=false).","info"),g?(async()=>{var m;y("Pr\xFCfe Token...","pending");try{let p=await Promise.resolve().then(()=>(ae(),he)),b=await((m=p.validateToken)==null?void 0:m.call(p,g));b&&b.ok?(I(!0),b.as==="bearer"?y("Token g\xFCltig (v4 Bearer).","success"):b.as==="apikey"&&y('API Key g\xFCltig (v3). Tipp: dauerhaft in site/config.json unter "tmdbApiKey" eintragen.',"success")):(I(!1),(b==null?void 0:b.hint)==="looksV3"?y('Eingegebener Wert sieht wie ein v3 API Key aus. Bitte in config.json als "tmdbApiKey" eintragen oder v4 Bearer Token verwenden.',"error"):y("Token ung\xFCltig oder keine Berechtigung (401).","error"))}catch{y("Pr\xFCfung fehlgeschlagen. Netzwerk/Browser-Konsole pr\xFCfen.","error")}})():I(!!(e&&e.tmdbApiKey))}i&&i.addEventListener("click",async()=>{var m;let g=String((s==null?void 0:s.value)||"").trim();try{localStorage.setItem("tmdbToken",g)}catch{}if(!g){y("Kein Token hinterlegt. TMDB ist deaktiviert.","info"),I(!!(e&&e.tmdbApiKey));return}y("Pr\xFCfe Token...","pending");try{let p=await Promise.resolve().then(()=>(ae(),he)),b=await((m=p.validateToken)==null?void 0:m.call(p,g));b&&b.ok?(I(!0),I(!0),b.as==="bearer"?y("Token g\xFCltig (v4 Bearer).","success"):b.as==="apikey"&&y('API Key g\xFCltig (v3). Tipp: dauerhaft in site/config.json unter "tmdbApiKey" eintragen.',"success")):(I(!1),I(!1),(b==null?void 0:b.hint)==="looksV3"?y('Eingegebener Wert sieht wie ein v3 API Key aus. Bitte in config.json als "tmdbApiKey" eintragen oder v4 Bearer Token verwenden.',"error"):y("Token ung\xFCltig oder keine Berechtigung (401).","error"))}catch{y("Pr\xFCfung fehlgeschlagen. Netzwerk/Browser-Konsole pr\xFCfen.","error")}}),c&&c.addEventListener("click",async()=>{var m;let g=String((s==null?void 0:s.value)||"").trim();if(!g){y("Bitte Token eingeben.","error");return}y("Pr\xFCfe Token...","pending");try{let p=await Promise.resolve().then(()=>(ae(),he)),b=await((m=p.validateToken)==null?void 0:m.call(p,g));b&&b.ok?b.as==="bearer"?y("Token g\xFCltig (v4 Bearer).","success"):b.as==="apikey"&&y('API Key g\xFCltig (v3). Tipp: dauerhaft in site/config.json unter "tmdbApiKey" eintragen.',"success"):(b==null?void 0:b.hint)==="looksV3"?y('Eingegebener Wert sieht wie ein v3 API Key aus. Dieser funktioniert hier nicht als Bearer. Bitte in config.json als "tmdbApiKey" eintragen oder v4 Bearer Token verwenden.',"error"):y("Token ung\xFCltig oder keine Berechtigung (401).","error")}catch{y("Pr\xFCfung fehlgeschlagen. Netzwerk/Browser-Konsole pr\xFCfen.","error")}}),d&&d.addEventListener("click",()=>{Promise.resolve().then(()=>(ae(),he)).then(g=>{var m;return(m=g.clearCache)==null?void 0:m.call(g)})}),h&&h.addEventListener("change",()=>{try{localStorage.setItem("prefReduceMotion",h.checked?"1":"0")}catch{}document.documentElement.classList.toggle("reduce-motion",h.checked)}),f&&f.addEventListener("change",()=>{try{localStorage.setItem("useTmdb",f.checked?"1":"0")}catch{}f.checked&&!window.__tmdbHydrationStarted&&(window.__tmdbHydrationStarted=1,Promise.resolve().then(()=>(ae(),he)).then(g=>{var p;let m=v();(p=g.hydrateOptional)==null||p.call(g,m.movies,m.shows,m.cfg)}).catch(()=>{}),setTimeout(()=>{f.checked&&M(v().view)},1200),setTimeout(()=>{f.checked&&M(v().view)},3e3)),M(v().view),J()}),C&&C.addEventListener("click",()=>{let g=document.getElementById("search");g&&(g.value="");let m=document.getElementById("q");m&&(m.value="");let p=document.getElementById("onlyNew");p&&(p.checked=!1);let b=document.getElementById("yearFrom"),K=document.getElementById("yearTo");b&&(b.value=""),K&&(K.value="");let vt=document.getElementById("collectionFilter");vt&&(vt.value=""),document.querySelectorAll("#genreFilters .chip.active").forEach(je=>je.classList.remove("active"));let _e=document.getElementById("genreFilters");_e&&(_e.dataset.state="empty",_e.dataset.count="0"),Promise.resolve().then(()=>(Me(),ft)).then(je=>{let fn=je.applyFilters();M(v().view),J(fn)})})}function mo(){try{let e=localStorage.getItem("prefReduceMotion")==="1";document.documentElement.classList.toggle("reduce-motion",e)}catch{}}function wo(){let e=document.getElementById("toggleAdvanced"),t=document.getElementById("advancedFilters");if(!e||!t)return;let n=!1,r=0,o=()=>{n=!1,r&&(clearTimeout(r),r=0),t.dataset.state==="closing"?(t.dataset.state="closed",t.hidden=!0,t.style.removeProperty("--advanced-max")):t.dataset.state==="open"?t.style.removeProperty("--advanced-max"):t.dataset.state==="expanding"&&(t.dataset.state="open",t.style.removeProperty("--advanced-max"))},a=()=>{r&&clearTimeout(r),r=window.setTimeout(o,320)};t.addEventListener("transitionend",c=>{c.target!==t||c.propertyName!=="max-height"||o()});let s=()=>{n||(n=!0,t.hidden=!1,t.dataset.state="expanding",t.setAttribute("aria-hidden","false"),t.style.setProperty("--advanced-max","0px"),requestAnimationFrame(()=>{let c=t.scrollHeight;t.style.setProperty("--advanced-max",c+"px"),t.dataset.state="open",a()}))},i=()=>{if(n)return;n=!0;let c=t.scrollHeight;t.style.setProperty("--advanced-max",c+"px"),t.dataset.state="closing",t.setAttribute("aria-hidden","true"),requestAnimationFrame(()=>{t.style.setProperty("--advanced-max","0px"),a()})};e.addEventListener("click",()=>{e.getAttribute("aria-expanded")==="true"?(e.setAttribute("aria-expanded","false"),i()):(e.setAttribute("aria-expanded","true"),s())})}function Eo(){let e=document.getElementById("siteLogo");e&&e.addEventListener("error",()=>{e.classList.add("logo-missing");let a=document.querySelector(".site-header__brand-text .site-header__label");a&&a.classList.remove("sr-only")});let t=document.getElementById("heroSubtitle"),n=["Offline st\xF6bern & Wunschlisten teilen","Filter. Finden. Freuen.","Filme & Serien \u2013 stressfrei sichtbar","Schneller als jeder SMB-Share","Merkliste zuerst, Streit sp\xE4ter"],r=0;t&&(t.textContent=n[r]);function o(){!t||t.dataset.taglinePaused==="1"||(t.classList.add("is-fading"),setTimeout(()=>{if(!t||t.dataset.taglinePaused==="1"){t&&t.classList.remove("is-fading");return}r=(r+1)%n.length,t.textContent=n[r],t.classList.remove("is-fading")},280))}t&&(t.dataset.taglinePaused="0",window.__taglineTicker||(window.__taglineTicker=setInterval(o,6e3),setTimeout(o,3e3)))}function So(){let e=document.getElementById("scrollProgress");if(!e)return;let t=()=>{let n=document.documentElement.scrollTop||document.body.scrollTop||0,r=document.documentElement.scrollHeight-document.documentElement.clientHeight||1,o=Math.max(0,Math.min(100,n/r*100));e.style.width=o+"%"};addEventListener("scroll",t,{passive:!0}),t()}function Ao(){let e=document.getElementById("scrollTop");if(!e)return;let t=()=>{let n=window.scrollY||0;e.style.display=n>300?"block":"none"};addEventListener("scroll",t,{passive:!0}),t(),e.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}
;(()=>{try{let m=typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,busy=!1,queued=!1;function refresh(){let hero=document.getElementById("hero");if(!hero){busy=!1,queued=!1;try{J();}catch(_){ }return;}if(m&&m.matches){hero.classList.remove("is-hero-transition","is-hero-enter"),busy=!1,queued=!1;try{J();}catch(_){ }return;}if(busy){queued=!0;return;}busy=!0,queued=!1,hero.classList.remove("is-hero-enter"),hero.classList.add("is-hero-transition");let swap=()=>{let current=document.getElementById("hero");try{J();}catch(_){ }current&&(current.classList.remove("is-hero-transition"),current.classList.add("is-hero-enter"),setTimeout(()=>{let h=document.getElementById("hero");h&&h.classList.remove("is-hero-enter"),busy=!1,queued&&(queued=!1,requestAnimationFrame(refresh))},420))};setTimeout(swap,160);}window.__heroRefresh=refresh,window.addEventListener("hero:next",()=>{try{refresh();}catch(_){ }});if(m){let reset=()=>{if(m.matches){let hero=document.getElementById("hero");hero&&hero.classList.remove("is-hero-transition","is-hero-enter")}};m.addEventListener?m.addEventListener("change",reset):m.addListener&&m.addListener(reset)}}catch(_){}})();
//# sourceMappingURL=main.js.map








